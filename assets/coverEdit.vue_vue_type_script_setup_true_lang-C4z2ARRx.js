import{e as $,v as B,u as R}from"./shop-CoISi0Yt.js";import{u as V}from"./index-Bem8UvUJ.js";import{Z as z,$ as T,ah as j,ai as E,aA as F,aV as G,aY as H,x as K,aT as Q,I as Y,l as Z,Q as D}from"./antd-C7ILtrJb.js";import{d as J,f as _,o as L,a5 as O,ac as P,ad as n,k as e,u as l,H as W,G as k}from"./vue-BPQYEdcZ.js";const te=J({__name:"coverEdit",props:{coverId:{type:Number,default:null}},emits:["closeModal"],setup(I,{emit:x}){const d=I,S=x,t=_({coverId:void 0,shopName:"",cycle:"ÊØèÊúà",price:0,linkShopId:[],orderIndex:0,item:[]}),p=_(""),m=_([]),c=_(!0);function f(s){S("closeModal",s)}async function b(){const{data:s}=await $();m.value=s.map(a=>({key:a.id.toString(),title:a.name})),c.value=!1}async function w(){const{data:s}=await B(d.coverId);t.value=s,p.value=s.item.join(`
`)}async function h(){t.value.item=p.value.split(/[\s\n]/),await R(t.value),V().success(d.coverId?"‰øùÂ≠òÊàêÂäüüòÑ":"Ê∑ªÂä†ÊàêÂäüüëè"),f(1)}return L(()=>{d.coverId&&w(),b()}),(s,a)=>{const v=z,u=T,r=j,i=E,g=F,C=G,N=H,U=K,q=Q,y=Y,A=Z,M=D;return O(),P(M,{model:l(t),layout:"vertical"},{default:n(()=>[e(i,{gutter:16},{default:n(()=>[e(r,{span:12},{default:n(()=>[e(u,{label:"ÂêçÁß∞",name:"shopName",rules:[{required:!0,message:"ÂïÜÂìÅÂêç‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(v,{value:l(t).shopName,"onUpdate:value":a[0]||(a[0]=o=>l(t).shopName=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:8},{default:n(()=>[e(u,{label:"Âë®Êúü",name:"cycle",rules:[{required:!0,message:"Âë®Êúü‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(v,{value:l(t).cycle,"onUpdate:value":a[1]||(a[1]=o=>l(t).cycle=o)},null,8,["value"])]),_:1})]),_:1}),e(r,{span:8},{default:n(()=>[e(u,{label:"‰ª∑Ê†º",name:"price",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(g,{value:l(t).price,"onUpdate:value":a[2]||(a[2]=o=>l(t).price=o)},null,8,["value"])]),_:1})]),_:1}),e(r,{span:8},{default:n(()=>[e(u,{label:"ÊéíÂ∫è",name:"orderIndex",rules:[{required:!0,message:"ÊéíÂ∫è‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(g,{value:l(t).orderIndex,"onUpdate:value":a[3]||(a[3]=o=>l(t).orderIndex=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:24},{default:n(()=>[e(u,{label:"È°πÁõÆ",name:"item",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(C,{value:l(p),"onUpdate:value":a[4]||(a[4]=o=>W(p)?p.value=o:null),placeholder:"ËæìÂÖ•ÂàóË°®È°πÁõÆ","auto-size":{minRows:4,maxRows:10}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:24},{default:n(()=>[e(q,{spinning:l(c)},{default:n(()=>[e(u,{label:"ÂÖ≥ËÅîÂïÜÂìÅ",name:"linkShopId"},{default:n(()=>[e(N,{"target-keys":l(t).linkShopId,"onUpdate:targetKeys":a[5]||(a[5]=o=>l(t).linkShopId=o),"data-source":l(m),render:o=>o.title,titles:["ÂïÜÂìÅÂ∫ì","ÂÖ≥ËÅîÁöÑÂïÜÂìÅ"],pagination:""},null,8,["target-keys","data-source","render"]),e(U,{"un-checked-children":"enabled","checked-children":"disabled",style:{"margin-top":"16px"}})]),_:1})]),_:1},8,["spinning"])]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(A,{size:"middle"},{default:n(()=>[e(y,{type:"primary",onClick:h},{default:n(()=>[k(" Êèê‰∫§ ")]),_:1}),e(y,{type:"default",onClick:a[6]||(a[6]=o=>f(0))},{default:n(()=>[k(" ÂèñÊ∂à ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{te as _};
