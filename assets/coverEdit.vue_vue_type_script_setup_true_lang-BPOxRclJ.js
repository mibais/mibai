import{e as R,v as B,u as $}from"./shop-hNRerfMn.js";import{u as z}from"./index-7ntG-4qc.js";import{K as F,N as K,aa as T,ab as V,av as j,aT as E,aW as G,as as H,aR as W,S as D,m as J,F as L}from"./antd-Do4zFXs5.js";import{d as O,f as _,o as P,a5 as Q,ac as X,ad as n,k as e,u as l,H as Y,G as k}from"./vue-CP9fVXMC.js";const te=O({__name:"coverEdit",props:{coverId:{type:Number,default:null}},emits:["closeModal"],setup(I,{emit:S}){const d=I,b=S,t=_({coverId:void 0,shopName:"",cycle:"ÊØèÊúà",price:0,linkShopId:[],orderIndex:0,item:[]}),p=_(""),m=_([]),c=_(!0);function f(s){b("closeModal",s)}async function x(){const{data:s}=await R();m.value=s.map(a=>({key:a.id.toString(),title:a.name})),c.value=!1}async function w(){const{data:s}=await B(d.coverId);t.value=s,p.value=s.item.join(`
`)}async function h(){t.value.item=p.value.split(/[\s\n]/),await $(t.value),z().success(d.coverId?"‰øùÂ≠òÊàêÂäüüòÑ":"Ê∑ªÂä†ÊàêÂäüüëè"),f(1)}return P(()=>{d.coverId&&w(),x()}),(s,a)=>{const v=F,u=K,r=T,i=V,g=j,N=E,C=G,U=H,q=W,y=D,M=J,A=L;return Q(),X(A,{model:l(t),layout:"vertical"},{default:n(()=>[e(i,{gutter:16},{default:n(()=>[e(r,{span:12},{default:n(()=>[e(u,{label:"ÂêçÁß∞",name:"shopName",rules:[{required:!0,message:"ÂïÜÂìÅÂêç‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(v,{value:l(t).shopName,"onUpdate:value":a[0]||(a[0]=o=>l(t).shopName=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:8},{default:n(()=>[e(u,{label:"Âë®Êúü",name:"cycle",rules:[{required:!0,message:"Âë®Êúü‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(v,{value:l(t).cycle,"onUpdate:value":a[1]||(a[1]=o=>l(t).cycle=o)},null,8,["value"])]),_:1})]),_:1}),e(r,{span:8},{default:n(()=>[e(u,{label:"‰ª∑Ê†º",name:"price",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(g,{value:l(t).price,"onUpdate:value":a[2]||(a[2]=o=>l(t).price=o)},null,8,["value"])]),_:1})]),_:1}),e(r,{span:8},{default:n(()=>[e(u,{label:"ÊéíÂ∫è",name:"orderIndex",rules:[{required:!0,message:"ÊéíÂ∫è‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(g,{value:l(t).orderIndex,"onUpdate:value":a[3]||(a[3]=o=>l(t).orderIndex=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:24},{default:n(()=>[e(u,{label:"È°πÁõÆ",name:"item",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(N,{value:l(p),"onUpdate:value":a[4]||(a[4]=o=>Y(p)?p.value=o:null),placeholder:"ËæìÂÖ•ÂàóË°®È°πÁõÆ","auto-size":{minRows:4,maxRows:10}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:24},{default:n(()=>[e(q,{spinning:l(c)},{default:n(()=>[e(u,{label:"ÂÖ≥ËÅîÂïÜÂìÅ",name:"linkShopId"},{default:n(()=>[e(C,{"target-keys":l(t).linkShopId,"onUpdate:targetKeys":a[5]||(a[5]=o=>l(t).linkShopId=o),"data-source":l(m),render:o=>o.title,titles:["ÂïÜÂìÅÂ∫ì","ÂÖ≥ËÅîÁöÑÂïÜÂìÅ"],pagination:""},null,8,["target-keys","data-source","render"]),e(U,{"un-checked-children":"enabled","checked-children":"disabled",style:{"margin-top":"16px"}})]),_:1})]),_:1},8,["spinning"])]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(M,{size:"middle"},{default:n(()=>[e(y,{type:"primary",onClick:h},{default:n(()=>[k(" Êèê‰∫§ ")]),_:1}),e(y,{type:"default",onClick:a[6]||(a[6]=o=>f(0))},{default:n(()=>[k(" ÂèñÊ∂à ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{te as _};
