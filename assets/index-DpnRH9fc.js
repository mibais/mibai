import{u as Ke,a as _e,b as be,i as ve,c as ye,o as We,d as $e,e as ze,f as Ce,l as Oe,r as De,g as Ne,h as Ie,p as Ee}from"./index-DbuHkAAg.js";import{u as we}from"./multi-tab-DoWqCE4R.js";import{f as Ve,u as e,d as L,W as Y,ab as oe,a5 as a,ac as m,ad as l,k as s,G as B,a8 as S,af as w,c as F,a3 as k,ag as g,ah as M,s as G,F as U,U as W,ai as H,aj as X,ak as Se,al as Z,H as Ge,m as Me,A as Re,am as je,b as xe,B as fe,r as qe,an as Je,w as Qe,ao as ke}from"./vue-CP9fVXMC.js";import{U as Xe,f as Ye,L as Ze,A as et,g as ne,h as tt,M as ee,D as Be,i as Le,j as de,m as ot,n as nt,p as at,q as lt,r as st,s as Te,C as it,t as dt,u as rt,v as ut,w as Ue,x as ae,S as ct,y as Fe,z as ue,B as ce,E as pe,F as re,G as ge,N as pt,H as mt,I as ht,J as yt,K as ft,O as kt,R as gt,Q as _t,T as bt,V as vt}from"./antd-BiDZImxE.js";import{_ as $t}from"./index.vue_vue_type_script_setup_true_lang-DPnFuiPM.js";import{u as E,s as q,n as le,a as se,b as O,e as te,c as Ct}from"./context-Bbw-aHuC.js";function me(){return new DOMException("The request is not allowed","NotAllowedError")}async function wt(y){if(!navigator.clipboard)throw me();return navigator.clipboard.writeText(y)}async function St(y){const n=document.createElement("span");n.textContent=y,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const t=window.getSelection(),c=window.document.createRange();t.removeAllRanges(),c.selectNode(n),t.addRange(c);let h=!1;try{h=window.document.execCommand("copy")}finally{t.removeAllRanges(),window.document.body.removeChild(n)}if(!h)throw me()}async function Mt(y){try{await wt(y)}catch(n){try{await St(y)}catch(t){throw t||n||me()}}}var Rt=(y=3e3)=>{const n=Ve(!1);return{copied:n,copy:c=>{const h=e(c);Mt(h).then(()=>{n.value=!0;const r=setTimeout(()=>{n.value=!1,clearTimeout(r)},y)})}}};const Bt={hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},Lt={class:"anticon"},Tt=S("a",{target:"_blank",href:"https://docs.mebi.me/"}," 教程文档 ",-1),Ut=L({__name:"index",setup(y){const n=Ke(),t=_e(),c=we(),h=be(),{avatar:r,nickname:d}=Y(t);async function p({key:i}){if(i==="logout")try{await t.logout()}finally{c.clear(),h.clear(),n.success("正在退出中...",1.5,()=>{window.location.href="/login"})}}return(i,C)=>{const v=et,$=oe("RouterLink"),b=ne,f=tt,o=ee,u=Be;return a(),m(u,null,{overlay:l(()=>[s(o,{onClick:p},{default:l(()=>[s(b,{key:"0"},{icon:l(()=>[s(e(Xe))]),default:l(()=>[s($,{to:"/account/setting"},{default:l(()=>[B(" 个人中心 ")]),_:1})]),_:1}),s(b,{key:"1"},{icon:l(()=>[s(e(Ye))]),default:l(()=>[Tt]),_:1}),s(f),s(b,{key:"logout"},{icon:l(()=>[s(e(Ze))]),default:l(()=>[B(" 退出登录 ")]),_:1})]),_:1})]),default:l(()=>[S("span",Bt,[s(v,{src:e(r),"mr-8px":"",size:"small"},null,8,["src"]),S("span",Lt,w(e(d)),1)])]),_:1})}}}),Ft=L({name:"FooterLinks",__name:"footer-links",setup(y){return(n,t)=>null}}),At={"c-primary":""},Pt=["src"],Ht={key:0},Kt=L({__name:"global-header-logo",setup(y){const{logo:n,title:t,layout:c,isMobile:h}=E(),r=F(()=>({"ant-pro-global-header-logo":c.value==="mix"||h.value,"ant-pro-top-nav-header-logo":c.value==="top"&&!h.value}));return(d,p)=>(a(),k("div",{class:M(e(r))},[S("a",At,[S("img",{src:e(n)},null,8,Pt),e(h)?g("",!0):(a(),k("h1",Ht,w(e(t)),1))])],2))}}),Wt=L({__name:"index",setup(y){const{layout:n,isMobile:t,handleMobileCollapsed:c,theme:h,menuHeader:r,collapsed:d,handleCollapsed:p,leftCollapsed:i}=E(),C=G("ant-pro-global-header"),v=F(()=>({[C.value]:!0,[`${C.value}-layout-${n.value}`]:!!n.value,[`${C.value}-inverted`]:h.value==="inverted"&&n.value==="top"}));return($,b)=>{const f=ot;return a(),k("div",{class:M([e(v)])},[e(n)==="side"&&!e(t)&&!e(i)?(a(),k("span",{key:0,class:"ml-0 text-18px",onClick:b[0]||(b[0]=o=>{var u;return(u=e(p))==null?void 0:u(!e(d))})},[e(d)?(a(),m(e(Le),{key:0})):(a(),m(e(de),{key:1}))])):g("",!0),e(r)?(a(),k(U,{key:1},[e(n)!=="side"||e(t)?(a(),m(Kt,{key:0})):g("",!0)],64)):g("",!0),e(t)?(a(),k("span",{key:2,class:"ant-pro-global-header-collapsed-button",onClick:b[1]||(b[1]=(...o)=>e(c)&&e(c)(...o))},[s(e(de))])):g("",!0),S("div",{class:M(["flex-1",e(n)==="top"?`${e(C)}-top`:"overflow-x-auto"])},[W($.$slots,"headerContent")],2),s(f,{align:"center","flex-shrink-0":""},{default:l(()=>[W($.$slots,"headerActions")]),_:3})],2)}}}),zt=L({__name:"index",setup(y){const{headerHeight:n,fixedHeader:t,layout:c,isMobile:h,collapsed:r,collapsedWidth:d,siderWidth:p,menu:i,splitMenus:C,selectedMenus:v}=E(),$=F(()=>{const o={height:`${n.value}px`,lineHeight:`${n.value}px`,paddingInline:0};if((t.value||c.value==="mix")&&(o.zIndex=100,o.width="100%",o.right=0),c.value==="side"&&i.value){if(!h.value&&t.value){const u=r.value?d.value:p.value;o.width=`calc(100% - ${u}px)`}o.zIndex=19}return o}),b=F(()=>{const o=[];return(t.value||c.value==="mix")&&o.push("ant-pro-fixed-header"),c.value&&o.push("ant-pro-fixed-header-action"),c.value==="mix"&&o.push("ant-pro-fixed-header-inverted"),o}),f=F(()=>t.value||c.value==="mix"&&(C.value?(v.value??[]).length>0:!0));return(o,u)=>{const P=nt;return a(),k(U,null,[e(f)?(a(),m(P,{key:0,style:H({height:`${e(n)}px`,lineHeight:`${e(n)}px`,background:"transparent"})},null,8,["style"])):g("",!0),s(P,{style:H(e($)),class:M(e(b))},{default:l(()=>[s(Wt,null,X({_:2},[o.$slots.headerActions?{name:"headerActions",fn:l(()=>[W(o.$slots,"headerActions")]),key:"0"}:void 0,o.$slots.headerContent?{name:"headerContent",fn:l(()=>[W(o.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}}),ie=L({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(y){const n=y,t=F(()=>{if(ve(n.icon)){const c=n.icon();if(c)return c}else return at[n.icon]});return(c,h)=>c.icon?(a(),m(Se(e(t)),{key:0})):g("",!0)}}),Ot=["href","target"],Dt=["href","target"],Ae=L({__name:"sub-menu",props:{item:{},link:{type:Boolean,default:!0}},setup(y){function n(t){return ve(t)?t():t}return(t,c)=>{const h=oe("sub-menu",!0),r=oe("RouterLink"),d=ne,p=lt;return t.item.children&&!t.item.hideChildrenInMenu?(a(),m(p,{key:t.item.path},X({title:l(()=>[B(w(n(t.item.title)),1)]),default:l(()=>[(a(!0),k(U,null,Z(t.item.children,i=>(a(),k(U,null,[i.hideInMenu?g("",!0):(a(),k(U,{key:0},[i.children?(a(),m(h,{key:i.path,item:i},null,8,["item"])):(a(),m(d,{key:i.path},X({default:l(()=>[e(ye)(i.path)?(a(),k("a",{key:1,href:i.path,target:i.target??"_blank"},w(n(i.title)),9,Ot)):(a(),k(U,{key:0},[t.link?(a(),m(r,{key:0,to:i.path},{default:l(()=>[B(w(n(i.title)),1)]),_:2},1032,["to"])):(a(),k(U,{key:1},[B(w(n(i.title)),1)],64))],64))]),_:2},[i.icon?{name:"icon",fn:l(()=>[s(ie,{icon:i.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[t.item.icon?{name:"icon",fn:l(()=>[s(ie,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(a(),m(d,{key:t.item.path},X({default:l(()=>[e(ye)(t.item.path)?(a(),k("a",{key:1,href:t.item.path,target:t.item.target??"_blank"},w(n(t.item.title)),9,Dt)):(a(),k(U,{key:0},[t.link?(a(),m(r,{key:0,to:t.item.path},{default:l(()=>[B(w(n(t.item.title)),1)]),_:1},8,["to"])):(a(),k(U,{key:1},[B(w(n(t.item.title)),1)],64))],64))]),_:2},[t.item.icon?{name:"icon",fn:l(()=>[s(ie,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Pe=L({__name:"index",setup(y){const{theme:n,collapsed:t,layout:c,isMobile:h,selectedMenus:r,selectedKeys:d,openKeys:p,handleOpenKeys:i,handleSelectedKeys:C,handleMenuSelect:v}=E(),$=F(()=>n.value==="inverted"?"dark":n.value);return(b,f)=>{const o=ee;return a(),m(o,{"selected-keys":e(d),"open-keys":e(t)?[]:e(p),mode:e(c)==="top"&&!e(h)?"horizontal":"inline",theme:e($),collapsed:e(t),class:"ant-pro-sider-menu","onUpdate:openKeys":e(i),"onUpdate:selectedKeys":e(C),onSelect:e(v)},{default:l(()=>[(a(!0),k(U,null,Z(e(r),u=>(a(),k(U,null,[u.hideInMenu?g("",!0):(a(),m(Ae,{key:u.path,item:u},null,8,["item"]))],64))),256))]),_:1},8,["selected-keys","open-keys","mode","theme","collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Nt=["src"],It={key:0},Et={class:"flex-1 of-x-hidden of-y-auto scrollbar"},He=L({__name:"index",setup(y){const{collapsed:n,leftCollapsed:t,handleCollapsed:c,selectedMenus:h,splitMenus:r,layout:d,logo:p,theme:i,title:C,collapsedWidth:v,siderWidth:$,headerHeight:b,fixedSider:f,isMobile:o}=E(),u=G("ant-pro-sider"),P=F(()=>({paddingTop:`${d.value!=="side"&&!o.value?b.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"})),D=F(()=>({[u.value]:!0,[`${u.value}-fixed`]:f.value,[`${u.value}-layout-${d.value}`]:!!d.value})),j=F(()=>(d.value==="side"||o.value)&&d.value!=="mix");return(_,T)=>{const R=ne,V=ee,K=st;return a(),k(U,null,[e(f)?(a(),k("div",{key:0,style:H({width:e(n)?`${e(v)}px`:`${e($)}px`,maxWidth:e(n)?`${e(v)}px`:`${e($)}px`,minWidth:e(n)?`${e(v)}px`:`${e($)}px`,...e(P)})},null,4)):g("",!0),!e(r)||(e(h)??[]).length>0?(a(),m(K,{key:1,theme:e(i)==="inverted"?"dark":"light",collapsed:e(n)&&!e(o),trigger:null,"collapsed-width":e(v),width:e($),collapsible:"",class:M(e(D)),style:H(e(P))},{default:l(()=>[e(j)?(a(),k("div",{key:0,class:M(["ant-pro-sider-logo",e(n)&&!e(o)?"ant-pro-sider-collapsed":""])},[S("a",null,[S("img",{src:e(p),alt:"logo"},null,8,Nt),!e(n)||e(o)?(a(),k("h1",It,w(e(C)),1)):g("",!0)])],2)):g("",!0),S("div",Et,[s(Pe)]),!e(o)&&e(t)?(a(),k("div",{key:1,class:M(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(i)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[s(V,{class:"ant-pro-sider-menu",mode:"inline",theme:e(i)==="inverted"?"dark":"light",selectable:!1,onClick:T[0]||(T[0]=N=>{var z;return(z=e(c))==null?void 0:z(!e(n))})},{default:l(()=>[s(R,null,{icon:l(()=>[e(n)?(a(),m(e(Le),{key:0})):(a(),m(e(de),{key:1}))]),_:1})]),_:1},8,["theme"])],2)):g("",!0)]),_:1},8,["theme","collapsed","collapsed-width","width","class","style"])):g("",!0)],64)}}}),Vt=L({__name:"index",setup(y){const{mobileCollapsed:n,siderWidth:t}=E();return(c,h)=>{const r=Te;return a(),m(r,{open:e(n),"onUpdate:open":h[0]||(h[0]=d=>Ge(n)?n.value=d:null),closable:!1,placement:"left",width:e(t)},{default:l(()=>[s(He)]),_:1},8,["open","width"])}}}),Gt=L({__name:"split-menu",setup(y){const{splitState:n,menuData:t,handleSplitSelectedKeys:c}=E(),h=F(()=>{var r;return(r=t.value)==null?void 0:r.map(d=>({...We(d,["children"]),childrenCount:(d.children??[]).length}))});return(r,d)=>{const p=ee;return a(),m(p,{mode:"horizontal",theme:"dark",class:"ant-pro-sider-menu-header","selected-keys":e(n).selectedKeys,"onUpdate:selectedKeys":e(c)},{default:l(()=>[(a(!0),k(U,null,Z(e(h),i=>(a(),k(U,null,[i.hideInMenu?g("",!0):(a(),m(Ae,{key:i.path,item:i,link:i.childrenCount<=0},null,8,["item","link"]))],64))),256))]),_:1},8,["selected-keys","onUpdate:selectedKeys"])}}}),jt={key:0,href:"https://beian.miit.gov.cn/",target:"_blank"},xt=L({name:"GlobalFooter",__name:"index",props:{copyright:{},icp:{}},setup(y){const n=G("ant-pro-global-footer");return(t,c)=>(a(),k("div",{class:M(e(n))},[t.$slots.renderFooterLinks?(a(),k("div",{key:0,class:M(`${e(n)}-links`)},[W(t.$slots,"renderFooterLinks")],2)):g("",!0),t.copyright?(a(),k("div",{key:1,class:M(`${e(n)}-copyright`)},[t.icp?(a(),k("a",jt,w(t.icp),1)):g("",!0),B(),s(e(it)),B(" "+w(t.copyright),1)],2)):g("",!0)],2))}}),qt={"onUpdate:openKeys":te(),"onUpdate:selectedKeys":te(),onMenuSelect:te()},Jt={layout:q("mix"),logo:q(),title:q(),collapsedWidth:le(48),siderWidth:le(234),headerHeight:le(48),menuData:se(),fixedHeader:O(!1),fixedSider:O(!0),splitMenus:O(),collapsed:O(!1),leftCollapsed:O(!1),theme:q("light"),onCollapsed:te(),isMobile:O(),contentWidth:q(),header:O(!0),footer:O(!0),menu:O(!0),menuHeader:O(!0),openKeys:se(),selectedKeys:se(),copyright:q(),...qt},Qt=["data-theme"],Xt=L({name:"BasicLayout",__name:"index",props:Jt,emits:["update:collapsed"],setup(y,{emit:n}){const t=y,c=n;function h(i){var C;c("update:collapsed",i),(C=t==null?void 0:t.onCollapsed)==null||C.call(t,i)}const{layout:r,contentWidth:d}=Ct(t,{handleCollapsed:h}),p=F(()=>d.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(i,C)=>{const v=rt,$=Ft,b=ut,f=dt;return a(),k("div",{class:"ant-pro-basicLayout","data-theme":i.theme},[s(f,null,{default:l(()=>[i.menu?(a(),k(U,{key:0},[e(r)!=="top"&&!i.isMobile?(a(),m(He,{key:0})):g("",!0)],64)):g("",!0),s(f,null,{default:l(()=>[i.header?(a(),m(zt,{key:0},X({_:2},[i.$slots.headerActions?{name:"headerActions",fn:l(()=>[W(i.$slots,"headerActions")]),key:"0"}:void 0,i.$slots.headerContent||e(r)==="top"||e(r)==="mix"?{name:"headerContent",fn:l(()=>[W(i.$slots,"headerContent",{},()=>[!i.isMobile&&e(r)==="top"?(a(),m(Pe,{key:0})):g("",!0),!i.isMobile&&e(r)==="mix"&&t.splitMenus?(a(),m(Gt,{key:1})):g("",!0)])]),key:"1"}:void 0]),1024)):g("",!0),W(i.$slots,"contentPrefix"),s(v,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:l(()=>[S("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:M(e(p))},[W(i.$slots,"default")],2)]),_:3}),i.footer?(a(),m(b,{key:1,style:{"background-color":"transparent"}},{default:l(()=>[W(i.$slots,"footerRender",{},()=>[s(xt,{copyright:i.copyright},X({_:2},[i.$slots.renderFooterLinks?{name:"renderFooterLinks",fn:l(()=>[s($)]),key:"0"}:void 0]),1032,["copyright"])])]),_:3})):g("",!0)]),_:3})]),_:3}),i.menu?(a(),m(Vt,{key:0})):g("",!0)],8,Qt)}}}),Yt={"mb-24px":""},Zt={"font-500":"","mb-12px":"","text-14px":"","line-height-22px":""},J=L({__name:"body",props:{title:{}},setup(y){return(n,t)=>(a(),k("div",Yt,[S("h3",Zt,w(n.title),1),W(n.$slots,"default")]))}}),Q=L({__name:"block-checkbox",props:{theme:{},isDark:{type:Boolean},checked:{type:Boolean},t:{type:Function}},setup(y){const n=y,t=G("ant-pro-drawer-setting-block-checkbox"),c=F(()=>({[`${t.value}-item`]:!0,[`${t.value}-theme-item`]:n.isDark,[`${t.value}-item-${n.theme}`]:!!n.theme,[`${t.value}-theme-item-${n.theme}`]:n.isDark})),{token:h}=$e();return(r,d)=>{const p=ae;return a(),m(p,null,{title:l(()=>{var i;return[B(w((i=r.t)==null?void 0:i.call(r,`app.setting.pagestyle.${r.theme}`??"")),1)]}),default:l(()=>{var i;return[S("div",{class:M(e(c))},[Me(s(e(Ue),{style:H({color:(i=e(h))==null?void 0:i.colorPrimary}),class:M(`${e(t)}-selectIcon`)},null,8,["style","class"]),[[Re,r.checked]])],2)]}),_:1})}}}),eo=["onClick"],to=L({__name:"theme-color",props:{colorList:{},color:{},onChange:{type:Function},t:{type:Function}},setup(y){const n=G("ant-pro-drawer-setting-theme-color");return(t,c)=>{const h=ae;return a(),k("div",{class:M(`${e(n)}`)},[S("div",{class:M(`${e(n)}-content`)},[(a(!0),k(U,null,Z(t.colorList,r=>(a(),m(h,{key:r.color},{title:l(()=>{var d;return[B(w((d=t.t)==null?void 0:d.call(t,`app.setting.themecolor.${r.key}`)),1)]}),default:l(()=>[S("div",{class:M(`${e(n)}-block`),style:H({backgroundColor:r.color}),onClick:d=>{var p;return(p=t.onChange)==null?void 0:p.call(t,r.color)}},[Me(s(e(Ue),null,null,512),[[Re,t.color===r.color]])],14,eo)]),_:2},1024))),128))],2)],2)}}}),oo=L({__name:"layout-setting",props:{contentWidth:{},layout:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},compactAlgorithm:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(y,{emit:n}){const t=y,c=n,h=F(()=>[{title:"内容区域宽度",key:"contentWidth",disabled:!1,disabledReason:""},{title:"固定 Header",key:"fixedHeader",disabled:t.layout==="mix",disabledReason:""},{title:"固定侧边菜单",key:"fixSiderbar",disabled:!1,disabledReason:""},{title:"自动分割菜单",key:"splitMenus",disabled:t.layout!=="mix",disabledReason:""},{title:"缓存功能",key:"keepAlive",disabled:!1,disabledReason:""},{title:"菜单手风琴模式",key:"accordionMode",disabled:!1,disabledReason:""},{title:"侧边菜单折叠 左侧",key:"leftCollapsed",disabled:t.layout!=="side",disabledReason:""},{title:"紧凑模式",key:"compactAlgorithm",disabled:!1,disabledReason:""}]);function r(d,p){c("changeSetting",d,p)}return(d,p)=>{const i=ct,C=Fe,v=ue,$=ce,b=ae,f=pe;return a(),m(f,{"data-source":e(h),split:!1},{renderItem:l(({item:o})=>[s(b,{title:o.disabled?o.disabledReason:"",placement:"left"},{default:l(()=>[s($,null,{actions:l(()=>[o.key==="contentWidth"?(a(),m(C,{key:0,size:"small",disabled:o.disabled,value:d.contentWidth||"Fluid","onUpdate:value":p[0]||(p[0]=u=>r("contentWidth",u))},{default:l(()=>[d.layout==="top"?(a(),m(i,{key:0,value:"Fixed"},{default:l(()=>{var u;return[B(w(((u=d.t)==null?void 0:u.call(d,"app.setting.content-width.fixed"))??"Fixed"),1)]}),_:1})):g("",!0),s(i,{value:"Fluid"},{default:l(()=>{var u;return[B(w(((u=d.t)==null?void 0:u.call(d,"app.setting.content-width.fluid"))??"Fluid"),1)]}),_:1})]),_:2},1032,["disabled","value"])):g("",!0),o.key==="fixedHeader"?(a(),m(v,{key:1,size:"small",checked:d.fixedHeader,disabled:o.disabled,"onUpdate:checked":p[1]||(p[1]=u=>r("fixedHeader",u))},null,8,["checked","disabled"])):g("",!0),o.key==="fixSiderbar"?(a(),m(v,{key:2,size:"small",checked:d.fixedSider,disabled:o.disabled,"onUpdate:checked":p[2]||(p[2]=u=>r("fixedSider",u))},null,8,["checked","disabled"])):g("",!0),o.key==="splitMenus"?(a(),m(v,{key:3,size:"small",checked:d.splitMenus,disabled:o.disabled,"onUpdate:checked":p[3]||(p[3]=u=>r("splitMenus",u))},null,8,["checked","disabled"])):g("",!0),o.key==="keepAlive"?(a(),m(v,{key:4,size:"small",checked:d.keepAlive,disabled:o.disabled,"onUpdate:checked":p[4]||(p[4]=u=>r("keepAlive",u))},null,8,["checked","disabled"])):g("",!0),o.key==="accordionMode"?(a(),m(v,{key:5,size:"small",checked:d.accordionMode,disabled:o.disabled,"onUpdate:checked":p[5]||(p[5]=u=>r("accordionMode",u))},null,8,["checked","disabled"])):g("",!0),o.key==="leftCollapsed"?(a(),m(v,{key:6,size:"small",checked:d.leftCollapsed,disabled:o.disabled,"onUpdate:checked":p[6]||(p[6]=u=>r("leftCollapsed",u))},null,8,["checked","disabled"])):g("",!0),o.key==="compactAlgorithm"?(a(),m(v,{key:7,size:"small",checked:d.compactAlgorithm,disabled:o.disabled,"onUpdate:checked":p[7]||(p[7]=u=>r("compactAlgorithm",u))},null,8,["checked","disabled"])):g("",!0)]),default:l(()=>{var u;return[S("span",{style:H({opacity:o.disabled?"0.5":"1"})},w(((u=d.t)==null?void 0:u.call(d,`app.setting.content-width.${o.key}`,o.title))??o.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),no=L({__name:"regional-setting",props:{layout:{},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},watermark:{type:Boolean},menuHeader:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},animationName:{},animationNameList:{},t:{type:Function}},emits:["changeSetting"],setup(y,{emit:n}){const t=y,c=n,h=F(()=>[{title:"动画",key:"animationName",disabled:!1,disabledReason:""},{title:"水印",key:"watermark",disabled:!1,disabledReason:""},{title:"顶栏",key:"header",disabled:!1,disabledReason:""},{title:"页脚",key:"footer",disabled:!1,disabledReason:""},{title:"菜单",key:"menu",disabled:t.layout==="top",disabledReason:""},{title:"菜单头",key:"menuHeader",disabled:!1,disabledReason:""},{title:"多页签",key:"multiTab",disabled:!1,disabledReason:""},{title:"固定多页签",key:"multiTabFixed",disabled:!1,disabledReason:"多页签开启后功能正常使用"}]);function r(d,p){c("changeSetting",d,p)}return(d,p)=>{const i=ue,C=Fe,v=ce,$=ae,b=pe;return a(),m(b,{"data-source":e(h),split:!1},{renderItem:l(({item:f})=>[s($,{title:f.disabled?f.disabledReason:"",placement:"left"},{default:l(()=>[s(v,null,{actions:l(()=>[f.key!=="animationName"?(a(),m(i,{key:0,size:"small",checked:t[f.key],disabled:f.disabled,"onUpdate:checked":o=>r(f.key,o)},null,8,["checked","disabled","onUpdate:checked"])):(a(),m(C,{key:1,style:{width:"120px"},value:d.animationName,options:d.animationNameList,size:"small","onUpdate:value":o=>r(f.key,o)},null,8,["value","options","onUpdate:value"]))]),default:l(()=>{var o;return[S("span",{style:H({opacity:f.disabled?"0.5":"1"})},w(((o=d.t)==null?void 0:o.call(d,`app.setting.content-area.${f.key}`,f.title))??f.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),ao=L({__name:"other-setting",props:{colorWeak:{type:Boolean},colorGray:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(y,{emit:n}){const t=y,c=n,h=F(()=>[{title:"weakmode",key:"colorWeak",disabled:!1,disabledReason:""},{title:"graymode",key:"colorGray",disabled:!1,disabledReason:""}]);function r(p,i){c("changeSetting",p,i)}function d(p){return Reflect.get(t,p)}return(p,i)=>{const C=ue,v=ce,$=pe;return a(),m($,{"data-source":e(h),split:!1},{renderItem:l(({item:b})=>[s(v,null,{actions:l(()=>[s(C,{size:"small",checked:d(b.key),disabled:b.disabled,"onUpdate:checked":f=>r(b.key,f)},null,8,["checked","disabled","onUpdate:checked"])]),default:l(()=>{var f;return[S("span",{style:H({opacity:b.disabled?"0.5":"1"})},w(((f=p.t)==null?void 0:f.call(p,`app.setting.${b.title}`,b.title))??b.title),5)]}),_:2},1024)]),_:1},8,["data-source"])}}}),lo={flex:"","gap-2":"","flex-col":""},so=L({name:"SettingDrawer",__name:"index",props:{open:{type:Boolean},theme:{default:"light"},colorPrimary:{},colorList:{default:()=>[{key:"techBlue",color:"#1677FF"},{key:"daybreak",color:"#1890ff"},{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"}]},layout:{},contentWidth:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},watermark:{type:Boolean},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},menuHeader:{type:Boolean},colorWeak:{type:Boolean},colorGray:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},compactAlgorithm:{type:Boolean},animationName:{},animationNameList:{},layoutSetting:{},t:{}},emits:["update:open","settingChange"],setup(y,{emit:n}){const t=y,c=n,{copy:h}=Rt(),r=G("ant-pro-drawer-setting"),{message:d}=ze();function p(){var o;h(JSON.stringify(t.layoutSetting??{})),d==null||d.success((o=t==null?void 0:t.t)==null?void 0:o.call(t,"app.setting.copyinfo","拷贝成功，请到 config/default-settings.js 中替换默认配置"))}function i(o){c("update:open",o)}function C(o){c("settingChange","theme",o)}function v(o){c("settingChange","colorPrimary",o)}function $(o){c("settingChange","layout",o)}function b(o,u){c("settingChange",o,u)}const{token:f}=$e();return(o,u)=>{var T,R,V;const P=ht,D=yt,j=ft,_=Te;return a(),k(U,null,[S("div",{class:M(`${e(r)}-handle`),style:H({backgroundColor:(T=e(f))==null?void 0:T.colorPrimary,borderEndStartRadius:`${(R=e(f))==null?void 0:R.borderRadius}px`,borderStartStartRadius:`${(V=e(f))==null?void 0:V.borderRadius}px`}),onClick:u[0]||(u[0]=K=>i(!o.open))},[o.open?(a(),m(e(re),{key:0,class:M(`${e(r)}-handle-icon${o.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),m(e(ge),{key:1,class:M(`${e(r)}-handle-icon${o.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6),s(_,{open:o.open,width:300,placement:"right",closable:!1,"onUpdate:open":i},{handle:l(()=>{var K,N,z;return[S("div",{class:M(`${e(r)}-handle`),style:H({position:"absolute",top:"240px",right:"300px",backgroundColor:(K=e(f))==null?void 0:K.colorPrimary,borderEndStartRadius:`${(N=e(f))==null?void 0:N.borderRadius}px`,borderStartStartRadius:`${(z=e(f))==null?void 0:z.borderRadius}px`}),onClick:u[1]||(u[1]=A=>i(!o.open))},[o.open?(a(),m(e(re),{key:0,class:M(`${e(r)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),m(e(ge),{key:1,class:M(`${e(r)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6)]}),default:l(()=>{var K,N,z,A,x;return[S("div",{class:M(`${e(r)}-content`)},[s(J,{title:((K=o.t)==null?void 0:K.call(o,"app.setting.pagestyle"))??"整体风格设计"},{default:l(()=>[S("div",{class:M(`${e(r)}-block-checkbox`)},[s(Q,{t:o.t,checked:t.theme==="light",theme:"light","is-dark":t.theme==="dark",onClick:u[2]||(u[2]=I=>C("light"))},null,8,["t","checked","is-dark"]),o.layout!=="mix"?(a(),m(Q,{key:0,t:o.t,checked:t.theme==="inverted",theme:"inverted","is-dark":t.theme==="dark",onClick:u[3]||(u[3]=I=>C("inverted"))},null,8,["t","checked","is-dark"])):g("",!0),s(Q,{t:o.t,checked:t.theme==="dark",theme:"dark","is-dark":t.theme==="dark",onClick:u[4]||(u[4]=I=>C("dark"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(J,{title:((N=o.t)==null?void 0:N.call(o,"app.setting.themecolor"))??"主题色"},{default:l(()=>[s(to,{t:o.t,"color-list":o.colorList,color:o.colorPrimary,onChange:v},null,8,["t","color-list","color"])]),_:1},8,["title"]),s(P),s(J,{title:((z=o.t)==null?void 0:z.call(o,"app.setting.pagestyle.mode"))??"导航模式"},{default:l(()=>[S("div",{class:M(`${e(r)}-block-checkbox`)},[s(Q,{t:o.t,theme:"side",checked:o.layout==="side","is-dark":t.theme==="dark",onClick:u[5]||(u[5]=I=>$("side"))},null,8,["t","checked","is-dark"]),s(Q,{t:o.t,theme:"top",checked:o.layout==="top","is-dark":t.theme==="dark",onClick:u[6]||(u[6]=I=>$("top"))},null,8,["t","checked","is-dark"]),s(Q,{t:o.t,theme:"mix",checked:o.layout==="mix","is-dark":t.theme==="dark",onClick:u[7]||(u[7]=I=>$("mix"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(oo,{layout:o.layout,t:o.t,"content-width":o.contentWidth,"fixed-header":o.fixedHeader,"fixed-sider":o.fixedSider,"split-menus":o.splitMenus,"keep-alive":o.keepAlive,"accordion-mode":o.accordionMode,"left-collapsed":o.leftCollapsed,"compact-algorithm":o.compactAlgorithm,onChangeSetting:b},null,8,["layout","t","content-width","fixed-header","fixed-sider","split-menus","keep-alive","accordion-mode","left-collapsed","compact-algorithm"]),s(P),s(J,{title:((A=o.t)==null?void 0:A.call(o,"app.setting.content-area.title"))??"内容区域"},{default:l(()=>[s(no,{t:o.t,layout:o.layout,header:o.header,watermark:o.watermark,"menu-header":o.menuHeader,footer:o.footer,"animation-name":o.animationName,"animation-name-list":o.animationNameList,"multi-tab":o.multiTab,"multi-tab-fixed":o.multiTabFixed,menu:o.menu,onChangeSetting:b},null,8,["t","layout","header","watermark","menu-header","footer","animation-name","animation-name-list","multi-tab","multi-tab-fixed","menu"])]),_:1},8,["title"]),s(P),s(J,{title:((x=o.t)==null?void 0:x.call(o,"app.setting.othersettings"))??"其他设置"},{default:l(()=>[s(ao,{t:o.t,"color-weak":o.colorWeak,"color-gray":o.colorGray,onChangeSetting:b},null,8,["t","color-weak","color-gray"])]),_:1},8,["title"]),s(P),s(J,null,{default:l(()=>{var I;return[S("div",lo,[s(D,{type:"warning","show-icon":"",message:((I=o.t)==null?void 0:I.call(o,"app.setting.production.hint"))??"配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改配置文件"},{icon:l(()=>[s(e(pt))]),_:1},8,["message"]),s(j,{onClick:p},{default:l(()=>{var he;return[s(e(mt)),B(" "+w((he=o.t)==null?void 0:he.call(o,"app.setting.copy","拷贝设置")),1)]}),_:1})])]}),_:1})],2)]}),_:1},8,["open"])],64)}}}),io=["onClick"],ro=["onClick"],uo=S("div",{class:"w-24px"},null,-1),co={class:"w-48px flex item-center justify-center"},po=L({__name:"index",setup(y){const n=we(),{list:t,activeKey:c}=Y(n),{layoutSetting:h}=Y(Ce()),{layout:r,isMobile:d,collapsed:p,collapsedWidth:i,siderWidth:C,menu:v}=E(),$=F(()=>{const _={};if(h.value.multiTabFixed&&(_.position="fixed",_.top=`${h.value.headerHeight}px`,_.zIndex=199,_.right=0),(r.value==="side"||r.value==="mix")&&v.value&&!d.value&&h.value.multiTabFixed){const T=p.value?i.value:C.value;_.width=`calc(100% - ${T}px)`}return _}),b=G(),{height:f}=je(b);function o({key:_},T){_==="closeCurrent"?n.close(c.value):_==="closeLeft"?n.closeLeft(T):_==="closeRight"?n.closeRight(T):_==="closeOther"?n.closeOther(T):_==="refresh"&&n.refresh(c.value)}const u=F(()=>t.value.length===1||t.value.filter(_=>!_.affix).length<=1);function P(_){return t.value.findIndex(R=>R.fullPath===_)===0||t.value.filter(R=>!R.affix).length<=1}function D(_){return t.value.findIndex(R=>R.fullPath===_)===t.value.length-1||t.value.filter(R=>!R.affix).length<=1}const j=F(()=>t.value.length===1||t.value.filter(_=>!_.affix).length<=1);return Oe(_=>{if(_.fullPath.startsWith("/redirect"))return;const T=t.value.find(R=>R.fullPath===_.fullPath);_.fullPath===c.value&&!(T!=null&&T.loading)||(c.value=_.fullPath,n.addItem(_))},!0),xe(()=>{De()}),(_,T)=>{const R=ne,V=ee,K=Be,N=_t,z=bt;return a(),k(U,null,[e(h).multiTabFixed?(a(),k("div",{key:0,style:H({height:`${e(f)+10}px`})},null,4)):g("",!0),s(z,{ref_key:"tabsRef",ref:b,"active-key":e(c),style:H(e($)),class:"bg-white dark:bg-#242525 w-100% pro-ant-multi-tab","pt-10px":"",type:"card",size:"small","tab-bar-gutter":5,"onUpdate:activeKey":e(n).switchTab},{leftExtra:l(()=>[uo]),rightExtra:l(()=>[S("div",co,[s(K,{trigger:["hover"]},{overlay:l(()=>[s(V,{onClick:T[0]||(T[0]=A=>o(A,e(c)))},{default:l(()=>[s(R,{key:"closeOther",disabled:e(u)||e(j)},{default:l(()=>[B(w(_.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(R,{key:"refresh"},{default:l(()=>[B(w(_.$t("app.multiTab.refresh")),1)]),_:1})]),_:1})]),default:l(()=>[s(e(kt),{class:"text-16px"})]),_:1})])]),default:l(()=>[(a(!0),k(U,null,Z(e(t),A=>(a(),m(N,{key:A.fullPath},{tab:l(()=>[s(K,{trigger:["contextmenu"]},{overlay:l(()=>[s(V,{onClick:x=>o(x,A.fullPath)},{default:l(()=>[s(R,{key:"closeCurrent",disabled:e(u)||e(c)!==A.fullPath},{default:l(()=>[B(w(_.$t("app.multiTab.closeCurrent")),1)]),_:2},1032,["disabled"]),s(R,{key:"closeLeft",disabled:e(u)||P(A.fullPath)},{default:l(()=>[B(w(_.$t("app.multiTab.closeLeft")),1)]),_:2},1032,["disabled"]),s(R,{key:"closeRight",disabled:e(u)||D(A.fullPath)},{default:l(()=>[B(w(_.$t("app.multiTab.closeRight")),1)]),_:2},1032,["disabled"]),s(R,{key:"closeOther",disabled:e(u)||e(j)},{default:l(()=>[B(w(_.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(R,{key:"refresh",disabled:!e(u)},{default:l(()=>[B(w(_.$t("app.multiTab.refresh")),1)]),_:1},8,["disabled"])]),_:2},1032,["onClick"])]),default:l(()=>[S("div",null,[B(w(A.locale?_.$t(A.locale):A.title)+" ",1),e(c)===A.fullPath?(a(),k("button",{key:0,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(x=>e(n).refresh(A.fullPath),["stop"])},[s(e(gt),{spin:A.loading},null,8,["spin"])],8,io)):g("",!0),!A.affix&&e(t).length>1?(a(),k("button",{key:1,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(x=>e(n).close(A.fullPath),["stop"])},[s(e(re))],8,ro)):g("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["active-key","style","onUpdate:activeKey"])],64)}}}),mo={xl:1600,lg:1199,md:991,sm:767,xs:575};function ho(){const y=qe(Je(mo)),n=y.smaller("sm"),t=y.between("sm","md"),c=y.greater("md");return{breakpoints:y,isMobile:n,isPad:t,isDesktop:c}}const vo=L({name:"ProLayout",__name:"index",setup(y){const n=Ce(),{layoutSetting:t}=Y(n),c=_e(),h=be(),{t:r}=Ne(),{selectedKeys:d,openKeys:p}=Y(h),{isMobile:i,isPad:C}=ho();Qe(C,$=>{$?n.toggleCollapsed(!0):n.toggleCollapsed(!1)});const v=F(()=>Ee(n.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth","compactAlgorithm"]));return($,b)=>{const f=$t,o=Ut,u=oe("RouterView"),P=vt;return a(),k(U,null,[s(Xt,ke({collapsed:e(t).collapsed,theme:e(t).theme,"menu-data":e(c).menuData},e(v),{"selected-keys":e(d),"open-keys":e(t).layout==="top"?[]:e(p),copyright:e(t).copyright,"is-mobile":e(i),logo:e(t).logo,title:e(t).title,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,"header-height":e(t).headerHeight,"onUpdate:openKeys":e(h).handleOpenKeys,"onUpdate:selectedKeys":e(h).handleSelectedKeys,"onUpdate:collapsed":e(n).toggleCollapsed}),{headerActions:l(()=>[s(f),s(o)]),contentPrefix:l(()=>[e(t).multiTab?(a(),m(po,{key:0})):g("",!0)]),renderFooterLinks:l(()=>[]),default:l(()=>[s(P,{"h-full":"",flex:"","flex-col":"","flex-1":"",content:e(t).watermark?e(t).title??"Antdv Pro":""},{default:l(()=>[s(u,null,{default:l(({Component:D})=>[(a(),m(Se(D)))]),_:1})]),_:1},8,["content"])]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","accordion-mode","left-collapsed","header-height","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"]),s(so,ke({open:e(t).drawerVisible,"onUpdate:open":b[0]||(b[0]=D=>e(t).drawerVisible=D),t:e(r),theme:e(t).theme,"color-primary":e(t).colorPrimary,"color-weak":e(t).colorWeak,"color-gray":e(t).colorGray,"multi-tab":e(t).multiTab,"multi-tab-fixed":e(t).multiTabFixed,"animation-name-list":e(Ie),"animation-name":e(t).animationName,"keep-alive":e(t).keepAlive,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,watermark:e(t).watermark},e(v),{"layout-setting":e(t),onSettingChange:e(n).changeSettingLayout}),null,16,["open","t","theme","color-primary","color-weak","color-gray","multi-tab","multi-tab-fixed","animation-name-list","animation-name","keep-alive","accordion-mode","left-collapsed","watermark","layout-setting","onSettingChange"])],64)}}});export{vo as default};
