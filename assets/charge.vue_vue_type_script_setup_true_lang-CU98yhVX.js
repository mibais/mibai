import{d as C,a0 as w,an as N,am as b}from"./antd-BeZGkD-C.js";import{c as M}from"./code-D3jDXZh_.js";import{d as Y,f as s,r as B,o as D,a5 as a,ac as c,ad as d,k as T,u as n,a3 as g,F as f,G as l,ag as x,af as V}from"./vue-CP9fVXMC.js";const H=Y({__name:"charge",props:{user:{type:Object,required:!0}},emits:["close"],setup(y,{emit:I}){const k=I,o=s(!1),z=s([{title:"#",dataIndex:"id"},{title:"平台",dataIndex:"code"},{title:"金额",dataIndex:"number"},{title:"用户id",dataIndex:"userId"},{title:"发起日期",dataIndex:"datetime"},{title:"状态",dataIndex:"used"},{title:"交易号",dataIndex:"tradeNo"},{title:"平台交易号",dataIndex:"outTradeNo"}]),u=s(),t=B({pageSize:5,current:1,total:0,pageSizeOptions:["10","20","30","40"],showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`${e}条记录`,onChange(e,r){t.pageSize=r,t.current=e,m()}}),S=s({});async function m(){if(!o.value){o.value=!0;try{const{data:e}=await M({size:t.pageSize,current:t.current,param:S.value});u.value=e.records,t.total=e.total,t.pageSize=e.size,t.current=e.current}finally{o.value=!1}}}return D(()=>{m()}),(e,r)=>{const p=w,h=N,v=b;return a(),c(v,{title:`${y.user.userName}的充值记录`,open:!0,width:1e3,onCancel:r[0]||(r[0]=i=>k("close"))},{default:d(()=>[T(h,{loading:n(o),columns:n(z),"data-source":n(u),pagination:n(t),scroll:{x:100}},{bodyCell:d(({column:i,record:_})=>[i.dataIndex==="used"?(a(),g(f,{key:0},[_.used?(a(),c(p,{key:0,color:"green"},{default:d(()=>[l(" 已付款 ")]),_:1})):(a(),c(p,{key:1,color:"cyan"},{default:d(()=>[l(" 未付款 ")]),_:1}))],64)):x("",!0),i.dataIndex==="datetime"?(a(),g(f,{key:1},[l(V(n(C)(_.datetime).format("YYYY-MM-DD HH:mm")),1)],64)):x("",!0)]),_:1},8,["loading","columns","data-source","pagination"])]),_:1},8,["title"])}}});export{H as _};
