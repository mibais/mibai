import{v as f}from"./index-Cg_nbg0_.js";import{d}from"./index-Bv51mmLR.js";import{g as l}from"./tools-Dku4Mfvn.js";import{j as m,k as p}from"./index-BPRStEv9.js";import{ao as _,I as g}from"./antd-_WrWzocG.js";import{d as v,f as y,a5 as h,ac as k,ad as i,k as n,u as r,G as w}from"./vue-f4UZefmh.js";const S=v({__name:"double-auth",setup(C){const s=m(),c=p(),e=y(!1);async function u(t){if(!e.value){e.value=!0;try{const{data:a}=await d(t);c.value=a.token;const o=l("redirect","/");s.success({message:"验证成功",description:"不错~，即将为你跳转到用户主页",duration:2,onClose(){window.location.href=o}})}finally{e.value=!1}}}return(t,a)=>{const o=g;return h(),k(f,{"verify-loading":r(e),onHandleSubmit:u},{title:i(()=>[n(r(_)),w(" 两步验证已开启 ")]),head:i(()=>[n(o,{message:"请输入你在绑定的验证器中看到的验证码",type:"info","show-icon":""})]),_:1},8,["verify-loading"])}}});export{S as default};
