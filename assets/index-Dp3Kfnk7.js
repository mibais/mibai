import{u as Ke,a as _e,b as be,i as ve,c as ye,o as We,d as $e,e as ze,f as Ce,l as Oe,r as De,g as Ne,h as Ie,p as Ee}from"./index-DcB7UUez.js";import{u as we}from"./multi-tab-Dm5NdwoA.js";import{f as Ve,u as e,d as A,W as Y,ab as oe,a5 as l,ac as m,ad as a,k as s,G as T,a8 as S,af as w,c as U,a3 as g,ag as _,ah as R,s as X,F as L,U as O,ai as H,aj as Q,ak as Se,al as Z,H as Ge,m as Me,A as Re,am as je,b as xe,B as fe,w as qe,an as ke}from"./vue-DZ3ObLO4.js";import{U as Je,c as Qe,L as Xe,f as Ye,g as ne,h as Ze,M as ee,D as Be,i as Te,j as de,l as et,m as tt,n as ot,p as nt,q as at,r as Le,s as lt,t as st,u as it,C as Ue,v as ae,S as dt,w as Ae,x as ue,y as ce,z as pe,B as re,E as ge,N as rt,F as ut,G as ct,H as pt,I as mt,J as ht,R as yt,K as ft,T as kt,O as gt}from"./antd-CHYaqX98.js";import{_ as _t,a as bt,b as vt}from"./index.vue_vue_type_style_index_0_lang-BMzcShh3.js";import{u as E,s as x,n as le,a as se,b as z,e as te,c as $t}from"./context-CI8FevHi.js";import{u as Ct}from"./query-breakpoints-DrdvpkKd.js";function me(){return new DOMException("The request is not allowed","NotAllowedError")}async function wt(b){if(!navigator.clipboard)throw me();return navigator.clipboard.writeText(b)}async function St(b){const n=document.createElement("span");n.textContent=b,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const t=window.getSelection(),c=window.document.createRange();t.removeAllRanges(),c.selectNode(n),t.addRange(c);let h=!1;try{h=window.document.execCommand("copy")}finally{t.removeAllRanges(),window.document.body.removeChild(n)}if(!h)throw me()}async function Mt(b){try{await wt(b)}catch(n){try{await St(b)}catch(t){throw t||n||me()}}}var Rt=(b=3e3)=>{const n=Ve(!1);return{copied:n,copy:c=>{const h=e(c);Mt(h).then(()=>{n.value=!0;const r=setTimeout(()=>{n.value=!1,clearTimeout(r)},b)})}}};const Bt={hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},Tt={class:"anticon"},Lt=S("a",{target:"_blank",href:"https://docs.mebi.me/"}," 教程文档 ",-1),Ut=A({__name:"index",setup(b){const n=Ke(),t=_e(),c=we(),h=be(),{avatar:r,nickname:d}=Y(t);async function p({key:i}){if(i==="logout")try{await t.logout()}finally{c.clear(),h.clear(),n.success("正在退出中...",1.5,()=>{window.location.href="/login"})}}return(i,C)=>{const v=Ye,$=oe("RouterLink"),k=ne,y=Ze,o=ee,u=Be;return l(),m(u,null,{overlay:a(()=>[s(o,{onClick:p},{default:a(()=>[s(k,{key:"0"},{icon:a(()=>[s(e(Je))]),default:a(()=>[s($,{to:"/account/setting"},{default:a(()=>[T(" 个人中心 ")]),_:1})]),_:1}),s(k,{key:"1"},{icon:a(()=>[s(e(Qe))]),default:a(()=>[Lt]),_:1}),s(y),s(k,{key:"logout"},{icon:a(()=>[s(e(Xe))]),default:a(()=>[T(" 退出登录 ")]),_:1})]),_:1})]),default:a(()=>[S("span",Bt,[s(v,{src:e(r),"mr-8px":"",size:"small"},null,8,["src"]),S("span",Tt,w(e(d)),1)])]),_:1})}}}),At={"c-primary":""},Ft=["src"],Pt={key:0},Ht=A({__name:"global-header-logo",setup(b){const{logo:n,title:t,layout:c,isMobile:h}=E(),r=U(()=>({"ant-pro-global-header-logo":c.value==="mix"||h.value,"ant-pro-top-nav-header-logo":c.value==="top"&&!h.value}));return(d,p)=>(l(),g("div",{class:R(e(r))},[S("a",At,[S("img",{src:e(n)},null,8,Ft),e(h)?_("",!0):(l(),g("h1",Pt,w(e(t)),1))])],2))}}),Kt=A({__name:"index",setup(b){const{layout:n,isMobile:t,handleMobileCollapsed:c,theme:h,menuHeader:r,collapsed:d,handleCollapsed:p,leftCollapsed:i}=E(),C=X("ant-pro-global-header"),v=U(()=>({[C.value]:!0,[`${C.value}-layout-${n.value}`]:!!n.value,[`${C.value}-inverted`]:h.value==="inverted"&&n.value==="top"}));return($,k)=>{const y=et;return l(),g("div",{class:R([e(v)])},[e(n)==="side"&&!e(t)&&!e(i)?(l(),g("span",{key:0,class:"ml-0 text-18px",onClick:k[0]||(k[0]=o=>{var u;return(u=e(p))==null?void 0:u(!e(d))})},[e(d)?(l(),m(e(Te),{key:0})):(l(),m(e(de),{key:1}))])):_("",!0),e(r)?(l(),g(L,{key:1},[e(n)!=="side"||e(t)?(l(),m(Ht,{key:0})):_("",!0)],64)):_("",!0),e(t)?(l(),g("span",{key:2,class:"ant-pro-global-header-collapsed-button",onClick:k[1]||(k[1]=(...o)=>e(c)&&e(c)(...o))},[s(e(de))])):_("",!0),S("div",{class:R(["flex-1",e(n)==="top"?`${e(C)}-top`:"overflow-x-auto"])},[O($.$slots,"headerContent")],2),s(y,{align:"center","flex-shrink-0":""},{default:a(()=>[O($.$slots,"headerActions")]),_:3})],2)}}}),Wt=A({__name:"index",setup(b){const{headerHeight:n,fixedHeader:t,layout:c,isMobile:h,collapsed:r,collapsedWidth:d,siderWidth:p,menu:i,splitMenus:C,selectedMenus:v}=E(),$=U(()=>{const o={height:`${n.value}px`,lineHeight:`${n.value}px`,paddingInline:0};if((t.value||c.value==="mix")&&(o.zIndex=100,o.width="100%",o.right=0),c.value==="side"&&i.value){if(!h.value&&t.value){const u=r.value?d.value:p.value;o.width=`calc(100% - ${u}px)`}o.zIndex=19}return o}),k=U(()=>{const o=[];return(t.value||c.value==="mix")&&o.push("ant-pro-fixed-header"),c.value&&o.push("ant-pro-fixed-header-action"),c.value==="mix"&&o.push("ant-pro-fixed-header-inverted"),o}),y=U(()=>t.value||c.value==="mix"&&(C.value?(v.value??[]).length>0:!0));return(o,u)=>{const P=tt;return l(),g(L,null,[e(y)?(l(),m(P,{key:0,style:H({height:`${e(n)}px`,lineHeight:`${e(n)}px`,background:"transparent"})},null,8,["style"])):_("",!0),s(P,{style:H(e($)),class:R(e(k))},{default:a(()=>[s(Kt,null,Q({_:2},[o.$slots.headerActions?{name:"headerActions",fn:a(()=>[O(o.$slots,"headerActions")]),key:"0"}:void 0,o.$slots.headerContent?{name:"headerContent",fn:a(()=>[O(o.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}}),ie=A({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(b){const n=b,t=U(()=>{if(ve(n.icon)){const c=n.icon();if(c)return c}else return ot[n.icon]});return(c,h)=>c.icon?(l(),m(Se(e(t)),{key:0})):_("",!0)}}),zt=["href","target"],Ot=["href","target"],Fe=A({__name:"sub-menu",props:{item:{},link:{type:Boolean,default:!0}},setup(b){function n(t){return ve(t)?t():t}return(t,c)=>{const h=oe("sub-menu",!0),r=oe("RouterLink"),d=ne,p=nt;return t.item.children&&!t.item.hideChildrenInMenu?(l(),m(p,{key:t.item.path},Q({title:a(()=>[T(w(n(t.item.title)),1)]),default:a(()=>[(l(!0),g(L,null,Z(t.item.children,i=>(l(),g(L,null,[i.hideInMenu?_("",!0):(l(),g(L,{key:0},[i.children?(l(),m(h,{key:i.path,item:i},null,8,["item"])):(l(),m(d,{key:i.path},Q({default:a(()=>[e(ye)(i.path)?(l(),g("a",{key:1,href:i.path,target:i.target??"_blank"},w(n(i.title)),9,zt)):(l(),g(L,{key:0},[t.link?(l(),m(r,{key:0,to:i.path},{default:a(()=>[T(w(n(i.title)),1)]),_:2},1032,["to"])):(l(),g(L,{key:1},[T(w(n(i.title)),1)],64))],64))]),_:2},[i.icon?{name:"icon",fn:a(()=>[s(ie,{icon:i.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[t.item.icon?{name:"icon",fn:a(()=>[s(ie,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(l(),m(d,{key:t.item.path},Q({default:a(()=>[e(ye)(t.item.path)?(l(),g("a",{key:1,href:t.item.path,target:t.item.target??"_blank"},w(n(t.item.title)),9,Ot)):(l(),g(L,{key:0},[t.link?(l(),m(r,{key:0,to:t.item.path},{default:a(()=>[T(w(n(t.item.title)),1)]),_:1},8,["to"])):(l(),g(L,{key:1},[T(w(n(t.item.title)),1)],64))],64))]),_:2},[t.item.icon?{name:"icon",fn:a(()=>[s(ie,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Pe=A({__name:"index",setup(b){const{theme:n,collapsed:t,layout:c,isMobile:h,selectedMenus:r,selectedKeys:d,openKeys:p,handleOpenKeys:i,handleSelectedKeys:C,handleMenuSelect:v}=E(),$=U(()=>n.value==="inverted"?"dark":n.value);return(k,y)=>{const o=ee;return l(),m(o,{"selected-keys":e(d),"open-keys":e(t)?[]:e(p),mode:e(c)==="top"&&!e(h)?"horizontal":"inline",theme:e($),collapsed:e(t),class:"ant-pro-sider-menu","onUpdate:openKeys":e(i),"onUpdate:selectedKeys":e(C),onSelect:e(v)},{default:a(()=>[(l(!0),g(L,null,Z(e(r),u=>(l(),g(L,null,[u.hideInMenu?_("",!0):(l(),m(Fe,{key:u.path,item:u},null,8,["item"]))],64))),256))]),_:1},8,["selected-keys","open-keys","mode","theme","collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Dt=["src"],Nt={key:0},It={class:"flex-1 of-x-hidden of-y-auto scrollbar"},He=A({__name:"index",setup(b){const{collapsed:n,leftCollapsed:t,handleCollapsed:c,selectedMenus:h,splitMenus:r,layout:d,logo:p,theme:i,title:C,collapsedWidth:v,siderWidth:$,headerHeight:k,fixedSider:y,isMobile:o}=E(),u=X("ant-pro-sider"),P=U(()=>({paddingTop:`${d.value!=="side"&&!o.value?k.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"})),D=U(()=>({[u.value]:!0,[`${u.value}-fixed`]:y.value,[`${u.value}-layout-${d.value}`]:!!d.value})),G=U(()=>(d.value==="side"||o.value)&&d.value!=="mix");return(f,B)=>{const M=ne,V=ee,K=at;return l(),g(L,null,[e(y)?(l(),g("div",{key:0,style:H({width:e(n)?`${e(v)}px`:`${e($)}px`,maxWidth:e(n)?`${e(v)}px`:`${e($)}px`,minWidth:e(n)?`${e(v)}px`:`${e($)}px`,...e(P)})},null,4)):_("",!0),!e(r)||(e(h)??[]).length>0?(l(),m(K,{key:1,theme:e(i)==="inverted"?"dark":"light",collapsed:e(n)&&!e(o),trigger:null,"collapsed-width":e(v),width:e($),collapsible:"",class:R(e(D)),style:H(e(P))},{default:a(()=>[e(G)?(l(),g("div",{key:0,class:R(["ant-pro-sider-logo",e(n)&&!e(o)?"ant-pro-sider-collapsed":""])},[S("a",null,[S("img",{src:e(p),alt:"logo"},null,8,Dt),!e(n)||e(o)?(l(),g("h1",Nt,w(e(C)),1)):_("",!0)])],2)):_("",!0),S("div",It,[s(Pe)]),!e(o)&&e(t)?(l(),g("div",{key:1,class:R(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(i)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[s(V,{class:"ant-pro-sider-menu",mode:"inline",theme:e(i)==="inverted"?"dark":"light",selectable:!1,onClick:B[0]||(B[0]=N=>{var W;return(W=e(c))==null?void 0:W(!e(n))})},{default:a(()=>[s(M,null,{icon:a(()=>[e(n)?(l(),m(e(Te),{key:0})):(l(),m(e(de),{key:1}))]),_:1})]),_:1},8,["theme"])],2)):_("",!0)]),_:1},8,["theme","collapsed","collapsed-width","width","class","style"])):_("",!0)],64)}}}),Et=A({__name:"index",setup(b){const{mobileCollapsed:n,siderWidth:t}=E();return(c,h)=>{const r=Le;return l(),m(r,{open:e(n),"onUpdate:open":h[0]||(h[0]=d=>Ge(n)?n.value=d:null),closable:!1,placement:"left",width:e(t)},{default:a(()=>[s(He)]),_:1},8,["open","width"])}}}),Vt=A({__name:"split-menu",setup(b){const{splitState:n,menuData:t,handleSplitSelectedKeys:c}=E(),h=U(()=>{var r;return(r=t.value)==null?void 0:r.map(d=>({...We(d,["children"]),childrenCount:(d.children??[]).length}))});return(r,d)=>{const p=ee;return l(),m(p,{mode:"horizontal",theme:"dark",class:"ant-pro-sider-menu-header","selected-keys":e(n).selectedKeys,"onUpdate:selectedKeys":e(c)},{default:a(()=>[(l(!0),g(L,null,Z(e(h),i=>(l(),g(L,null,[i.hideInMenu?_("",!0):(l(),m(Fe,{key:i.path,item:i,link:i.childrenCount<=0},null,8,["item","link"]))],64))),256))]),_:1},8,["selected-keys","onUpdate:selectedKeys"])}}}),Gt={"onUpdate:openKeys":te(),"onUpdate:selectedKeys":te(),onMenuSelect:te()},jt={layout:x("mix"),logo:x(),title:x(),collapsedWidth:le(48),siderWidth:le(234),headerHeight:le(48),menuData:se(),fixedHeader:z(!1),fixedSider:z(!0),splitMenus:z(),collapsed:z(!1),leftCollapsed:z(!1),theme:x("light"),onCollapsed:te(),isMobile:z(),contentWidth:x(),header:z(!0),footer:z(!0),menu:z(!0),menuHeader:z(!0),openKeys:se(),selectedKeys:se(),copyright:x(),...Gt},xt=["data-theme"],qt=A({name:"BasicLayout",__name:"index",props:jt,emits:["update:collapsed"],setup(b,{emit:n}){const t=b,c=n;function h(i){var C;c("update:collapsed",i),(C=t==null?void 0:t.onCollapsed)==null||C.call(t,i)}const{layout:r,contentWidth:d}=$t(t,{handleCollapsed:h}),p=U(()=>d.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(i,C)=>{const v=st,$=bt,k=it,y=lt;return l(),g("div",{class:"ant-pro-basicLayout","data-theme":i.theme},[s(y,null,{default:a(()=>[i.menu?(l(),g(L,{key:0},[e(r)!=="top"&&!i.isMobile?(l(),m(He,{key:0})):_("",!0)],64)):_("",!0),s(y,null,{default:a(()=>[i.header?(l(),m(Wt,{key:0},Q({_:2},[i.$slots.headerActions?{name:"headerActions",fn:a(()=>[O(i.$slots,"headerActions")]),key:"0"}:void 0,i.$slots.headerContent||e(r)==="top"||e(r)==="mix"?{name:"headerContent",fn:a(()=>[O(i.$slots,"headerContent",{},()=>[!i.isMobile&&e(r)==="top"?(l(),m(Pe,{key:0})):_("",!0),!i.isMobile&&e(r)==="mix"&&t.splitMenus?(l(),m(Vt,{key:1})):_("",!0)])]),key:"1"}:void 0]),1024)):_("",!0),O(i.$slots,"contentPrefix"),s(v,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:a(()=>[S("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:R(e(p))},[O(i.$slots,"default")],2)]),_:3}),i.footer?(l(),m(k,{key:1,style:{"background-color":"transparent"}},{default:a(()=>[O(i.$slots,"footerRender",{},()=>[s(_t,{copyright:i.copyright},Q({_:2},[i.$slots.renderFooterLinks?{name:"renderFooterLinks",fn:a(()=>[s($)]),key:"0"}:void 0]),1032,["copyright"])])]),_:3})):_("",!0)]),_:3})]),_:3}),i.menu?(l(),m(Et,{key:0})):_("",!0)],8,xt)}}}),Jt={"mb-24px":""},Qt={"font-500":"","mb-12px":"","text-14px":"","line-height-22px":""},q=A({__name:"body",props:{title:{}},setup(b){return(n,t)=>(l(),g("div",Jt,[S("h3",Qt,w(n.title),1),O(n.$slots,"default")]))}}),J=A({__name:"block-checkbox",props:{theme:{},isDark:{type:Boolean},checked:{type:Boolean},t:{type:Function}},setup(b){const n=b,t=X("ant-pro-drawer-setting-block-checkbox"),c=U(()=>({[`${t.value}-item`]:!0,[`${t.value}-theme-item`]:n.isDark,[`${t.value}-item-${n.theme}`]:!!n.theme,[`${t.value}-theme-item-${n.theme}`]:n.isDark})),{token:h}=$e();return(r,d)=>{const p=ae;return l(),m(p,null,{title:a(()=>{var i;return[T(w((i=r.t)==null?void 0:i.call(r,`app.setting.pagestyle.${r.theme}`??"")),1)]}),default:a(()=>{var i;return[S("div",{class:R(e(c))},[Me(s(e(Ue),{style:H({color:(i=e(h))==null?void 0:i.colorPrimary}),class:R(`${e(t)}-selectIcon`)},null,8,["style","class"]),[[Re,r.checked]])],2)]}),_:1})}}}),Xt=["onClick"],Yt=A({__name:"theme-color",props:{colorList:{},color:{},onChange:{type:Function},t:{type:Function}},setup(b){const n=X("ant-pro-drawer-setting-theme-color");return(t,c)=>{const h=ae;return l(),g("div",{class:R(`${e(n)}`)},[S("div",{class:R(`${e(n)}-content`)},[(l(!0),g(L,null,Z(t.colorList,r=>(l(),m(h,{key:r.color},{title:a(()=>{var d;return[T(w((d=t.t)==null?void 0:d.call(t,`app.setting.themecolor.${r.key}`)),1)]}),default:a(()=>[S("div",{class:R(`${e(n)}-block`),style:H({backgroundColor:r.color}),onClick:d=>{var p;return(p=t.onChange)==null?void 0:p.call(t,r.color)}},[Me(s(e(Ue),null,null,512),[[Re,t.color===r.color]])],14,Xt)]),_:2},1024))),128))],2)],2)}}}),Zt=A({__name:"layout-setting",props:{contentWidth:{},layout:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},compactAlgorithm:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(b,{emit:n}){const t=b,c=n,h=U(()=>[{title:"内容区域宽度",key:"contentWidth",disabled:!1,disabledReason:""},{title:"固定 Header",key:"fixedHeader",disabled:t.layout==="mix",disabledReason:""},{title:"固定侧边菜单",key:"fixSiderbar",disabled:!1,disabledReason:""},{title:"自动分割菜单",key:"splitMenus",disabled:t.layout!=="mix",disabledReason:""},{title:"缓存功能",key:"keepAlive",disabled:!1,disabledReason:""},{title:"菜单手风琴模式",key:"accordionMode",disabled:!1,disabledReason:""},{title:"侧边菜单折叠 左侧",key:"leftCollapsed",disabled:t.layout!=="side",disabledReason:""},{title:"紧凑模式",key:"compactAlgorithm",disabled:!1,disabledReason:""}]);function r(d,p){c("changeSetting",d,p)}return(d,p)=>{const i=dt,C=Ae,v=ue,$=ce,k=ae,y=pe;return l(),m(y,{"data-source":e(h),split:!1},{renderItem:a(({item:o})=>[s(k,{title:o.disabled?o.disabledReason:"",placement:"left"},{default:a(()=>[s($,null,{actions:a(()=>[o.key==="contentWidth"?(l(),m(C,{key:0,size:"small",disabled:o.disabled,value:d.contentWidth||"Fluid","onUpdate:value":p[0]||(p[0]=u=>r("contentWidth",u))},{default:a(()=>[d.layout==="top"?(l(),m(i,{key:0,value:"Fixed"},{default:a(()=>{var u;return[T(w(((u=d.t)==null?void 0:u.call(d,"app.setting.content-width.fixed"))??"Fixed"),1)]}),_:1})):_("",!0),s(i,{value:"Fluid"},{default:a(()=>{var u;return[T(w(((u=d.t)==null?void 0:u.call(d,"app.setting.content-width.fluid"))??"Fluid"),1)]}),_:1})]),_:2},1032,["disabled","value"])):_("",!0),o.key==="fixedHeader"?(l(),m(v,{key:1,size:"small",checked:d.fixedHeader,disabled:o.disabled,"onUpdate:checked":p[1]||(p[1]=u=>r("fixedHeader",u))},null,8,["checked","disabled"])):_("",!0),o.key==="fixSiderbar"?(l(),m(v,{key:2,size:"small",checked:d.fixedSider,disabled:o.disabled,"onUpdate:checked":p[2]||(p[2]=u=>r("fixedSider",u))},null,8,["checked","disabled"])):_("",!0),o.key==="splitMenus"?(l(),m(v,{key:3,size:"small",checked:d.splitMenus,disabled:o.disabled,"onUpdate:checked":p[3]||(p[3]=u=>r("splitMenus",u))},null,8,["checked","disabled"])):_("",!0),o.key==="keepAlive"?(l(),m(v,{key:4,size:"small",checked:d.keepAlive,disabled:o.disabled,"onUpdate:checked":p[4]||(p[4]=u=>r("keepAlive",u))},null,8,["checked","disabled"])):_("",!0),o.key==="accordionMode"?(l(),m(v,{key:5,size:"small",checked:d.accordionMode,disabled:o.disabled,"onUpdate:checked":p[5]||(p[5]=u=>r("accordionMode",u))},null,8,["checked","disabled"])):_("",!0),o.key==="leftCollapsed"?(l(),m(v,{key:6,size:"small",checked:d.leftCollapsed,disabled:o.disabled,"onUpdate:checked":p[6]||(p[6]=u=>r("leftCollapsed",u))},null,8,["checked","disabled"])):_("",!0),o.key==="compactAlgorithm"?(l(),m(v,{key:7,size:"small",checked:d.compactAlgorithm,disabled:o.disabled,"onUpdate:checked":p[7]||(p[7]=u=>r("compactAlgorithm",u))},null,8,["checked","disabled"])):_("",!0)]),default:a(()=>{var u;return[S("span",{style:H({opacity:o.disabled?"0.5":"1"})},w(((u=d.t)==null?void 0:u.call(d,`app.setting.content-width.${o.key}`,o.title))??o.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),eo=A({__name:"regional-setting",props:{layout:{},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},watermark:{type:Boolean},menuHeader:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},animationName:{},animationNameList:{},t:{type:Function}},emits:["changeSetting"],setup(b,{emit:n}){const t=b,c=n,h=U(()=>[{title:"动画",key:"animationName",disabled:!1,disabledReason:""},{title:"水印",key:"watermark",disabled:!1,disabledReason:""},{title:"顶栏",key:"header",disabled:!1,disabledReason:""},{title:"页脚",key:"footer",disabled:!1,disabledReason:""},{title:"菜单",key:"menu",disabled:t.layout==="top",disabledReason:""},{title:"菜单头",key:"menuHeader",disabled:!1,disabledReason:""},{title:"多页签",key:"multiTab",disabled:!1,disabledReason:""},{title:"固定多页签",key:"multiTabFixed",disabled:!1,disabledReason:"多页签开启后功能正常使用"}]);function r(d,p){c("changeSetting",d,p)}return(d,p)=>{const i=ue,C=Ae,v=ce,$=ae,k=pe;return l(),m(k,{"data-source":e(h),split:!1},{renderItem:a(({item:y})=>[s($,{title:y.disabled?y.disabledReason:"",placement:"left"},{default:a(()=>[s(v,null,{actions:a(()=>[y.key!=="animationName"?(l(),m(i,{key:0,size:"small",checked:t[y.key],disabled:y.disabled,"onUpdate:checked":o=>r(y.key,o)},null,8,["checked","disabled","onUpdate:checked"])):(l(),m(C,{key:1,style:{width:"120px"},value:d.animationName,options:d.animationNameList,size:"small","onUpdate:value":o=>r(y.key,o)},null,8,["value","options","onUpdate:value"]))]),default:a(()=>{var o;return[S("span",{style:H({opacity:y.disabled?"0.5":"1"})},w(((o=d.t)==null?void 0:o.call(d,`app.setting.content-area.${y.key}`,y.title))??y.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),to=A({__name:"other-setting",props:{colorWeak:{type:Boolean},colorGray:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(b,{emit:n}){const t=b,c=n,h=U(()=>[{title:"weakmode",key:"colorWeak",disabled:!1,disabledReason:""},{title:"graymode",key:"colorGray",disabled:!1,disabledReason:""}]);function r(p,i){c("changeSetting",p,i)}function d(p){return Reflect.get(t,p)}return(p,i)=>{const C=ue,v=ce,$=pe;return l(),m($,{"data-source":e(h),split:!1},{renderItem:a(({item:k})=>[s(v,null,{actions:a(()=>[s(C,{size:"small",checked:d(k.key),disabled:k.disabled,"onUpdate:checked":y=>r(k.key,y)},null,8,["checked","disabled","onUpdate:checked"])]),default:a(()=>{var y;return[S("span",{style:H({opacity:k.disabled?"0.5":"1"})},w(((y=p.t)==null?void 0:y.call(p,`app.setting.${k.title}`,k.title))??k.title),5)]}),_:2},1024)]),_:1},8,["data-source"])}}}),oo={flex:"","gap-2":"","flex-col":""},no=A({name:"SettingDrawer",__name:"index",props:{open:{type:Boolean},theme:{default:"light"},colorPrimary:{},colorList:{default:()=>[{key:"techBlue",color:"#1677FF"},{key:"daybreak",color:"#1890ff"},{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"}]},layout:{},contentWidth:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},watermark:{type:Boolean},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},menuHeader:{type:Boolean},colorWeak:{type:Boolean},colorGray:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},compactAlgorithm:{type:Boolean},animationName:{},animationNameList:{},layoutSetting:{},t:{}},emits:["update:open","settingChange"],setup(b,{emit:n}){const t=b,c=n,{copy:h}=Rt(),r=X("ant-pro-drawer-setting"),{message:d}=ze();function p(){var o;h(JSON.stringify(t.layoutSetting??{})),d==null||d.success((o=t==null?void 0:t.t)==null?void 0:o.call(t,"app.setting.copyinfo","拷贝成功，请到 config/default-settings.js 中替换默认配置"))}function i(o){c("update:open",o)}function C(o){c("settingChange","theme",o)}function v(o){c("settingChange","colorPrimary",o)}function $(o){c("settingChange","layout",o)}function k(o,u){c("settingChange",o,u)}const{token:y}=$e();return(o,u)=>{var B,M,V;const P=ct,D=pt,G=mt,f=Le;return l(),g(L,null,[S("div",{class:R(`${e(r)}-handle`),style:H({backgroundColor:(B=e(y))==null?void 0:B.colorPrimary,borderEndStartRadius:`${(M=e(y))==null?void 0:M.borderRadius}px`,borderStartStartRadius:`${(V=e(y))==null?void 0:V.borderRadius}px`}),onClick:u[0]||(u[0]=K=>i(!o.open))},[o.open?(l(),m(e(re),{key:0,class:R(`${e(r)}-handle-icon${o.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(l(),m(e(ge),{key:1,class:R(`${e(r)}-handle-icon${o.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6),s(f,{open:o.open,width:300,placement:"right",closable:!1,"onUpdate:open":i},{handle:a(()=>{var K,N,W;return[S("div",{class:R(`${e(r)}-handle`),style:H({position:"absolute",top:"240px",right:"300px",backgroundColor:(K=e(y))==null?void 0:K.colorPrimary,borderEndStartRadius:`${(N=e(y))==null?void 0:N.borderRadius}px`,borderStartStartRadius:`${(W=e(y))==null?void 0:W.borderRadius}px`}),onClick:u[1]||(u[1]=F=>i(!o.open))},[o.open?(l(),m(e(re),{key:0,class:R(`${e(r)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(l(),m(e(ge),{key:1,class:R(`${e(r)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6)]}),default:a(()=>{var K,N,W,F,j;return[S("div",{class:R(`${e(r)}-content`)},[s(q,{title:((K=o.t)==null?void 0:K.call(o,"app.setting.pagestyle"))??"整体风格设计"},{default:a(()=>[S("div",{class:R(`${e(r)}-block-checkbox`)},[s(J,{t:o.t,checked:t.theme==="light",theme:"light","is-dark":t.theme==="dark",onClick:u[2]||(u[2]=I=>C("light"))},null,8,["t","checked","is-dark"]),o.layout!=="mix"?(l(),m(J,{key:0,t:o.t,checked:t.theme==="inverted",theme:"inverted","is-dark":t.theme==="dark",onClick:u[3]||(u[3]=I=>C("inverted"))},null,8,["t","checked","is-dark"])):_("",!0),s(J,{t:o.t,checked:t.theme==="dark",theme:"dark","is-dark":t.theme==="dark",onClick:u[4]||(u[4]=I=>C("dark"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(q,{title:((N=o.t)==null?void 0:N.call(o,"app.setting.themecolor"))??"主题色"},{default:a(()=>[s(Yt,{t:o.t,"color-list":o.colorList,color:o.colorPrimary,onChange:v},null,8,["t","color-list","color"])]),_:1},8,["title"]),s(P),s(q,{title:((W=o.t)==null?void 0:W.call(o,"app.setting.pagestyle.mode"))??"导航模式"},{default:a(()=>[S("div",{class:R(`${e(r)}-block-checkbox`)},[s(J,{t:o.t,theme:"side",checked:o.layout==="side","is-dark":t.theme==="dark",onClick:u[5]||(u[5]=I=>$("side"))},null,8,["t","checked","is-dark"]),s(J,{t:o.t,theme:"top",checked:o.layout==="top","is-dark":t.theme==="dark",onClick:u[6]||(u[6]=I=>$("top"))},null,8,["t","checked","is-dark"]),s(J,{t:o.t,theme:"mix",checked:o.layout==="mix","is-dark":t.theme==="dark",onClick:u[7]||(u[7]=I=>$("mix"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(Zt,{layout:o.layout,t:o.t,"content-width":o.contentWidth,"fixed-header":o.fixedHeader,"fixed-sider":o.fixedSider,"split-menus":o.splitMenus,"keep-alive":o.keepAlive,"accordion-mode":o.accordionMode,"left-collapsed":o.leftCollapsed,"compact-algorithm":o.compactAlgorithm,onChangeSetting:k},null,8,["layout","t","content-width","fixed-header","fixed-sider","split-menus","keep-alive","accordion-mode","left-collapsed","compact-algorithm"]),s(P),s(q,{title:((F=o.t)==null?void 0:F.call(o,"app.setting.content-area.title"))??"内容区域"},{default:a(()=>[s(eo,{t:o.t,layout:o.layout,header:o.header,watermark:o.watermark,"menu-header":o.menuHeader,footer:o.footer,"animation-name":o.animationName,"animation-name-list":o.animationNameList,"multi-tab":o.multiTab,"multi-tab-fixed":o.multiTabFixed,menu:o.menu,onChangeSetting:k},null,8,["t","layout","header","watermark","menu-header","footer","animation-name","animation-name-list","multi-tab","multi-tab-fixed","menu"])]),_:1},8,["title"]),s(P),s(q,{title:((j=o.t)==null?void 0:j.call(o,"app.setting.othersettings"))??"其他设置"},{default:a(()=>[s(to,{t:o.t,"color-weak":o.colorWeak,"color-gray":o.colorGray,onChangeSetting:k},null,8,["t","color-weak","color-gray"])]),_:1},8,["title"]),s(P),s(q,null,{default:a(()=>{var I;return[S("div",oo,[s(D,{type:"warning","show-icon":"",message:((I=o.t)==null?void 0:I.call(o,"app.setting.production.hint"))??"配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改配置文件"},{icon:a(()=>[s(e(rt))]),_:1},8,["message"]),s(G,{onClick:p},{default:a(()=>{var he;return[s(e(ut)),T(" "+w((he=o.t)==null?void 0:he.call(o,"app.setting.copy","拷贝设置")),1)]}),_:1})])]}),_:1})],2)]}),_:1},8,["open"])],64)}}}),ao=["onClick"],lo=["onClick"],so=S("div",{class:"w-24px"},null,-1),io={class:"w-48px flex item-center justify-center"},ro=A({__name:"index",setup(b){const n=we(),{list:t,activeKey:c}=Y(n),{layoutSetting:h}=Y(Ce()),{layout:r,isMobile:d,collapsed:p,collapsedWidth:i,siderWidth:C,menu:v}=E(),$=U(()=>{const f={};if(h.value.multiTabFixed&&(f.position="fixed",f.top=`${h.value.headerHeight}px`,f.zIndex=199,f.right=0),(r.value==="side"||r.value==="mix")&&v.value&&!d.value&&h.value.multiTabFixed){const B=p.value?i.value:C.value;f.width=`calc(100% - ${B}px)`}return f}),k=X(),{height:y}=je(k);function o({key:f},B){f==="closeCurrent"?n.close(c.value):f==="closeLeft"?n.closeLeft(B):f==="closeRight"?n.closeRight(B):f==="closeOther"?n.closeOther(B):f==="refresh"&&n.refresh(c.value)}const u=U(()=>t.value.length===1||t.value.filter(f=>!f.affix).length<=1);function P(f){return t.value.findIndex(M=>M.fullPath===f)===0||t.value.filter(M=>!M.affix).length<=1}function D(f){return t.value.findIndex(M=>M.fullPath===f)===t.value.length-1||t.value.filter(M=>!M.affix).length<=1}const G=U(()=>t.value.length===1||t.value.filter(f=>!f.affix).length<=1);return Oe(f=>{if(f.fullPath.startsWith("/redirect"))return;const B=t.value.find(M=>M.fullPath===f.fullPath);f.fullPath===c.value&&!(B!=null&&B.loading)||(c.value=f.fullPath,n.addItem(f))},!0),xe(()=>{De()}),(f,B)=>{const M=ne,V=ee,K=Be,N=ft,W=kt;return l(),g(L,null,[e(h).multiTabFixed?(l(),g("div",{key:0,style:H({height:`${e(y)+10}px`})},null,4)):_("",!0),s(W,{ref_key:"tabsRef",ref:k,"active-key":e(c),style:H(e($)),class:"bg-white dark:bg-#242525 w-100% pro-ant-multi-tab","pt-10px":"",type:"card",size:"small","tab-bar-gutter":5,"onUpdate:activeKey":e(n).switchTab},{leftExtra:a(()=>[so]),rightExtra:a(()=>[S("div",io,[s(K,{trigger:["hover"]},{overlay:a(()=>[s(V,{onClick:B[0]||(B[0]=F=>o(F,e(c)))},{default:a(()=>[s(M,{key:"closeOther",disabled:e(u)||e(G)},{default:a(()=>[T(w(f.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(M,{key:"refresh"},{default:a(()=>[T(w(f.$t("app.multiTab.refresh")),1)]),_:1})]),_:1})]),default:a(()=>[s(e(ht),{class:"text-16px"})]),_:1})])]),default:a(()=>[(l(!0),g(L,null,Z(e(t),F=>(l(),m(N,{key:F.fullPath},{tab:a(()=>[s(K,{trigger:["contextmenu"]},{overlay:a(()=>[s(V,{onClick:j=>o(j,F.fullPath)},{default:a(()=>[s(M,{key:"closeCurrent",disabled:e(u)||e(c)!==F.fullPath},{default:a(()=>[T(w(f.$t("app.multiTab.closeCurrent")),1)]),_:2},1032,["disabled"]),s(M,{key:"closeLeft",disabled:e(u)||P(F.fullPath)},{default:a(()=>[T(w(f.$t("app.multiTab.closeLeft")),1)]),_:2},1032,["disabled"]),s(M,{key:"closeRight",disabled:e(u)||D(F.fullPath)},{default:a(()=>[T(w(f.$t("app.multiTab.closeRight")),1)]),_:2},1032,["disabled"]),s(M,{key:"closeOther",disabled:e(u)||e(G)},{default:a(()=>[T(w(f.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(M,{key:"refresh",disabled:!e(u)},{default:a(()=>[T(w(f.$t("app.multiTab.refresh")),1)]),_:1},8,["disabled"])]),_:2},1032,["onClick"])]),default:a(()=>[S("div",null,[T(w(F.locale?f.$t(F.locale):F.title)+" ",1),e(c)===F.fullPath?(l(),g("button",{key:0,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(j=>e(n).refresh(F.fullPath),["stop"])},[s(e(yt),{spin:F.loading},null,8,["spin"])],8,ao)):_("",!0),!F.affix&&e(t).length>1?(l(),g("button",{key:1,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(j=>e(n).close(F.fullPath),["stop"])},[s(e(re))],8,lo)):_("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["active-key","style","onUpdate:activeKey"])],64)}}}),ko=A({name:"ProLayout",__name:"index",setup(b){const n=Ce(),{layoutSetting:t}=Y(n),c=_e(),h=be(),{t:r}=Ne(),{selectedKeys:d,openKeys:p}=Y(h),{isMobile:i,isPad:C}=Ct();qe(C,$=>{$?n.toggleCollapsed(!0):n.toggleCollapsed(!1)});const v=U(()=>Ee(n.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth","compactAlgorithm"]));return($,k)=>{const y=vt,o=Ut,u=oe("RouterView"),P=gt;return l(),g(L,null,[s(qt,ke({collapsed:e(t).collapsed,theme:e(t).theme,"menu-data":e(c).menuData},e(v),{"selected-keys":e(d),"open-keys":e(t).layout==="top"?[]:e(p),copyright:e(t).copyright,"is-mobile":e(i),logo:e(t).logo,title:e(t).title,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,"header-height":e(t).headerHeight,"onUpdate:openKeys":e(h).handleOpenKeys,"onUpdate:selectedKeys":e(h).handleSelectedKeys,"onUpdate:collapsed":e(n).toggleCollapsed}),{headerActions:a(()=>[s(y),s(o)]),contentPrefix:a(()=>[e(t).multiTab?(l(),m(ro,{key:0})):_("",!0)]),renderFooterLinks:a(()=>[]),default:a(()=>[s(P,{"h-full":"",flex:"","flex-col":"","flex-1":"",content:e(t).watermark?e(t).title??"Antdv Pro":""},{default:a(()=>[s(u,null,{default:a(({Component:D})=>[(l(),m(Se(D)))]),_:1})]),_:1},8,["content"])]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","accordion-mode","left-collapsed","header-height","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"]),s(no,ke({open:e(t).drawerVisible,"onUpdate:open":k[0]||(k[0]=D=>e(t).drawerVisible=D),t:e(r),theme:e(t).theme,"color-primary":e(t).colorPrimary,"color-weak":e(t).colorWeak,"color-gray":e(t).colorGray,"multi-tab":e(t).multiTab,"multi-tab-fixed":e(t).multiTabFixed,"animation-name-list":e(Ie),"animation-name":e(t).animationName,"keep-alive":e(t).keepAlive,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,watermark:e(t).watermark},e(v),{"layout-setting":e(t),onSettingChange:e(n).changeSettingLayout}),null,16,["open","t","theme","color-primary","color-weak","color-gray","multi-tab","multi-tab-fixed","animation-name-list","animation-name","keep-alive","accordion-mode","left-collapsed","watermark","layout-setting","onSettingChange"])],64)}}});export{ko as default};
