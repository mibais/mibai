import{e as B,v as $,u as R}from"./shop-BJ7Pbt06.js";import{u as V}from"./index-DF3e-Oc6.js";import{$ as j,a0 as z,ai as E,aj as F,aB as G,aW as H,aZ as J,y as K,aU as T,J as W,m as Z,V as D}from"./antd-_WrWzocG.js";import{d as L,f as _,o as O,a5 as P,ac as Q,ad as n,k as e,u as l,H as X,G as k}from"./vue-f4UZefmh.js";const te=L({__name:"coverEdit",props:{coverId:{type:Number,default:null}},emits:["closeModal"],setup(I,{emit:S}){const d=I,b=S,t=_({coverId:void 0,shopName:"",cycle:"ÊØèÊúà",price:0,linkShopId:[],orderIndex:0,item:[]}),p=_(""),m=_([]),c=_(!0);function f(s){b("closeModal",s)}async function x(){const{data:s}=await B();m.value=s.map(a=>({key:a.id.toString(),title:a.name})),c.value=!1}async function w(){const{data:s}=await $(d.coverId);t.value=s,p.value=s.item.join(`
`)}async function h(){t.value.item=p.value.split(/[\s\n]/),await R(t.value),V().success(d.coverId?"‰øùÂ≠òÊàêÂäüüòÑ":"Ê∑ªÂä†ÊàêÂäüüëè"),f(1)}return O(()=>{d.coverId&&w(),x()}),(s,a)=>{const v=j,u=z,r=E,i=F,g=G,C=H,N=J,U=K,q=T,y=W,M=Z,A=D;return P(),Q(A,{model:l(t),layout:"vertical"},{default:n(()=>[e(i,{gutter:16},{default:n(()=>[e(r,{span:12},{default:n(()=>[e(u,{label:"ÂêçÁß∞",name:"shopName",rules:[{required:!0,message:"ÂïÜÂìÅÂêç‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(v,{value:l(t).shopName,"onUpdate:value":a[0]||(a[0]=o=>l(t).shopName=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:8},{default:n(()=>[e(u,{label:"Âë®Êúü",name:"cycle",rules:[{required:!0,message:"Âë®Êúü‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(v,{value:l(t).cycle,"onUpdate:value":a[1]||(a[1]=o=>l(t).cycle=o)},null,8,["value"])]),_:1})]),_:1}),e(r,{span:8},{default:n(()=>[e(u,{label:"‰ª∑Ê†º",name:"price",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(g,{value:l(t).price,"onUpdate:value":a[2]||(a[2]=o=>l(t).price=o)},null,8,["value"])]),_:1})]),_:1}),e(r,{span:8},{default:n(()=>[e(u,{label:"ÊéíÂ∫è",name:"orderIndex",rules:[{required:!0,message:"ÊéíÂ∫è‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(g,{value:l(t).orderIndex,"onUpdate:value":a[3]||(a[3]=o=>l(t).orderIndex=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:24},{default:n(()=>[e(u,{label:"È°πÁõÆ",name:"item",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:n(()=>[e(C,{value:l(p),"onUpdate:value":a[4]||(a[4]=o=>X(p)?p.value=o:null),placeholder:"ËæìÂÖ•ÂàóË°®È°πÁõÆ","auto-size":{minRows:4,maxRows:10}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(r,{span:24},{default:n(()=>[e(q,{spinning:l(c)},{default:n(()=>[e(u,{label:"ÂÖ≥ËÅîÂïÜÂìÅ",name:"linkShopId"},{default:n(()=>[e(N,{"target-keys":l(t).linkShopId,"onUpdate:targetKeys":a[5]||(a[5]=o=>l(t).linkShopId=o),"data-source":l(m),render:o=>o.title,titles:["ÂïÜÂìÅÂ∫ì","ÂÖ≥ËÅîÁöÑÂïÜÂìÅ"],pagination:""},null,8,["target-keys","data-source","render"]),e(U,{"un-checked-children":"enabled","checked-children":"disabled",style:{"margin-top":"16px"}})]),_:1})]),_:1},8,["spinning"])]),_:1})]),_:1}),e(i,{gutter:16},{default:n(()=>[e(M,{size:"middle"},{default:n(()=>[e(y,{type:"primary",onClick:h},{default:n(()=>[k(" Êèê‰∫§ ")]),_:1}),e(y,{type:"default",onClick:a[6]||(a[6]=o=>f(0))},{default:n(()=>[k(" ÂèñÊ∂à ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{te as _};
