import{n as _,_ as m}from"./index-D-0lgSBS.js";import{b as y}from"./index-BDSKeGNX.js";import{ap as T,a9 as h}from"./antd-Do4zFXs5.js";import{d as x,f as s,w as v,a5 as G,ac as I,ad as l,k as P,u as g,G as w,a8 as p}from"./vue-CP9fVXMC.js";const k=x({__name:"traffic-pile",props:{trafficInfo:{type:Object,default:()=>({pastTrafficGB:0,todayTrafficGB:0,daySameRate:"",leftTrafficGB:0,nextRestDate:"",totalTrafficGB:0,weekSameRate:""})}},setup(d){const e=d,u=T({scriptUrl:_(()=>import("./iconfont-B_hmDsvv.js"),__vite__mapDeps([]))}),f=s(),r=[],c=s(0);v(()=>e.trafficInfo.totalTrafficGB,()=>{e.trafficInfo.totalTrafficGB&&(c.value=e.trafficInfo.totalTrafficGB,r.push({x:"过去已用",y:e.trafficInfo.pastTrafficGB}),r.push({x:"未已用",y:e.trafficInfo.leftTrafficGB}),r.push({x:"今天已用",y:e.trafficInfo.todayTrafficGB}),B(f.value,r))},{immediate:!0});function n(a){if(a===0)return"0B";const o=1024,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],t=Math.floor(Math.log(a)/Math.log(o));return(a/o**t).toPrecision(3)+i[t]}function B(a,o){new y(a,{appendPadding:10,data:o,radius:1,innerRadius:.6,padding:"auto",angleField:"y",colorField:"x",legend:{layout:"horizontal",position:"bottom"},tooltip:{formatter:t=>({name:`${t.x}流量`,value:`${n(t.y)}`})},label:{type:"inner",offset:"-50%",content:t=>n(t.y),style:{textAlign:"center",fontSize:14}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{title:!1,content:{style:{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"20px"},content:`总流量
${n(c.value)}`}}}).render()}return(a,o)=>{const i=h;return G(),I(i,{class:"salesCard",bordered:!1,style:{height:"100%"}},{title:l(()=>[P(g(u),{type:"icon-liuliang"}),w(" 流量使用占比 ")]),default:l(()=>[p("div",null,[p("div",{ref_key:"pieContainer1",ref:f},null,512)])]),_:1})}}}),b=m(k,[["__scopeId","data-v-7251e816"]]);export{b as t};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
