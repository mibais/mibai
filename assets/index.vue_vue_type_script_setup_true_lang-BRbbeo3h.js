import{c as b,m as _}from"./bought-B2st0ihl.js";import{u as C}from"./index-BfS-IcDm.js";import{S as M,aN as N,am as x}from"./antd-D9bc_wb_.js";import{d as S,f as s,a5 as m,a3 as V,ac as h,ad as l,G as w,ag as I,k as p,u as c,a8 as T,af as A,H as F,F as O}from"./vue-CP9fVXMC.js";const G=S({__name:"index",props:{boughtId:{type:Number,required:!0},visible:{type:Boolean,default:!0},buttonType:{type:String,default:"primary"},danger:{type:Boolean,default:!1}},emits:["on-close"],setup(a,{emit:f}){const u=f,r=a,e=s(!1),n=s(0),d=s(!0);async function y(){e.value=!0;const{data:o}=await b(r.boughtId);n.value=o,d.value=!1}async function g(){await _(r.boughtId),C().success("退款成功 🍾"),e.value=!1,u("on-close",!0,n.value)}return(o,t)=>{const k=M,B=N,v=x;return m(),V(O,null,[a.visible?(m(),h(k,{key:0,danger:a.danger,type:a.buttonType,onClick:y},{default:l(()=>[w(" 退款 ")]),_:1},8,["danger","type"])):I("",!0),p(v,{open:c(e),"onUpdate:open":t[0]||(t[0]=i=>F(e)?e.value=i:null),title:"确定要退款吗？",onCancel:t[1]||(t[1]=i=>u("on-close",!1)),onOk:g},{default:l(()=>[p(B,{loading:c(d),active:""},{default:l(()=>[T("p",null,A(`本次一共可退款 ${c(n)}元，退款只到本站账户钱包，无法原路返回到支付方，请确认是否退款。`),1)]),_:1},8,["loading"])]),_:1},8,["open"])],64)}}});export{G as _};
