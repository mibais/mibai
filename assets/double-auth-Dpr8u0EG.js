import{v as f}from"./index-DVH_BmQt.js";import{d}from"./index-CFyODzZS.js";import{g as l}from"./tools-CgX8nevI.js";import{j as m,k as p}from"./index-DcB7UUez.js";import{an as _,H as g}from"./antd-CHYaqX98.js";import{d as v,f as y,a5 as h,ac as k,ad as n,k as i,u as r,G as w}from"./vue-DZ3ObLO4.js";const L=v({__name:"double-auth",setup(C){const s=m(),c=p(),e=y(!1);async function u(o){if(!e.value){e.value=!0;try{const{data:a}=await d(o);c.value=a.token;const t=l("redirect","/");s.success({message:"验证成功",description:"不错~，即将为你跳转到用户主页",duration:2,onClose(){window.location.href=t}})}finally{e.value=!1}}}return(o,a)=>{const t=g;return h(),k(f,{"verify-loading":r(e),onHandleSubmit:u},{title:n(()=>[i(r(_)),w(" 两步验证已开启 ")]),head:n(()=>[i(t,{message:"请输入你在绑定的验证器中看到的验证码",type:"info","show-icon":""})]),_:1},8,["verify-loading"])}}});export{L as default};
